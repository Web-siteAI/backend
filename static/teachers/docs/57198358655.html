<!DOCTYPE html>
<html class="no-js oldie" lang="en">
<head>
<meta charset="utf-8" />
<title>Yurii Kryvenchuk (0000-0002-2504-5833) - ORCID | Connecting Research and Researchers</title>
<meta name="description" content="">
<meta name="author" content="ORCID">
<meta name="_csrf" content="" />
<meta name="_csrf_header" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-17492803-4', 'auto', {'legacyCookieDomain': 'orcid.org'});  // Replace with your property ID.
    ga('set', 'anonymizeIp', true); //Anonymize user IP
	ga('send', 'pageview');

	</script>

<script type="text/javascript">
        var orcidVar = {};
        orcidVar.recaptchaKey = '6Lfj4AoTAAAAAAjr0x3Gu2RcVpA1-0LJAhV-GRQj';
        orcidVar.baseDomainRmProtocall = 'orcid.org';
        orcidVar.baseUri = 'https://orcid.org';
        orcidVar.baseUriHttp = 'http://orcid.org';
        orcidVar.pubBaseUri = 'https://pub.orcid.org';
		orcidVar.staticCdn = '//orcid.org/static/release-1.246.11'
	        
      
      
      

        orcidVar.orcidId = '0000-0002-2504-5833';
        orcidVar.lastModified = 'Apr 13, 2018 7:34:40 PM';
        orcidVar.orcidIdHash = '';
        orcidVar.realOrcidId = '';
        orcidVar.resetParams = '';
        orcidVar.emailToReactivate = '';
        orcidVar.jsMessages = JSON.parse("{\"locale\":\"en\",\"messages\":{\"fatal.wrongProtocol\":\"Policy supplied to DS was not \\\"urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single\\\"\",\"fatal.noparms\":\"No parameters to discovery session and no defaultReturn parameter configured\",\"orcid.frontend.link.email.support\":\"support@orcid.org\",\"orcid.frontend.security.unclaimed_exists_1\":\"The ORCID record exists but has not been claimed. Would you like to \",\"orcid.frontend.security.unclaimed_exists_2\":\"resend the claim email\",\"funding.add.external_id.value.placeholder.grant\":\"Enter grant number\",\"orcid.frontend.security.unclaimed_exists_3\":\"?\",\"orcid.frontend.manual_work_form_contents.labelTitleConference\":\"Conference title\",\"idpEntry.NoPreferred.label\":\"Enter your organization\'s name\",\"funding.add.external_id.title.grant\":\"GRANT NUMBER\",\"orcid.frontend.workspace.ensure_future_access5\":\"or contact\",\"orcid.frontend.workspace.youve_changed\":\"You\'ve changed your primary email to an address that isn\'t verified.\",\"orcid.frontend.workspace.ensure_future_access4\":\"knowledgebase\",\"orcid.frontend.workspace.ensure_future_access3\":\"Need help? Visit our\",\"orcid.frontend.manual_work_form_contents.labelTitleConferencePlaceholder\":\"Conference title\",\"orcid.frontend.workspace.ensure_future_access2\":\"To verify your email now, click the link in the message we sent to\",\"idpList.label\":\"Or select your organization from the list below\",\"idpList.defaultOptionLabel\":\"Please select your organization...\",\"fatal.noXMLHttpRequest\":\"Browser does not support XMLHttpRequest, unable to load IdP selection data\",\"funding.add.external_id.value.label.award\":\"Award\",\"funding.add.external_id.value.label.contract\":\"Contract\",\"affiliation.org_id.value.label.grid\":\"GRID\",\"orcid.frontend.security.2fa.no_device1\":\"Don\'t have your device?\",\"orcid.frontend.security.2fa.no_device2\":\"Enter a recovery code\",\"orcid.frontend.security.2fa.contact_support\":\"Contact support\",\"manage.email.close\":\"Close\",\"orcid.frontend.manual_work_form_contents.labelTitlePublisherPlaceholder\":\"Add publisher name\",\"orcid.frontend.security.2fa.authenticate\":\"Authenticate\",\"orcid.frontend.manual_work_form_contents.defaultTitlePlaceholder\":\"Add journal title\",\"funding.add.external_id.url.label.contract\":\"Contract URL\",\"orcid.frontend.manual_work_form_contents.labelTitleBook\":\"Book title\",\"orcid.frontend.security.2fa.heading\":\"Two-factor authentication\",\"funding.add.external_id.url.label.grant\":\"Grant URL\",\"orcid.frontend.manual_work_form_errors.id_unresolvable\":\"We couldn\'t find a resource that matches the identifier you entered. Please check the value or enter a valid link to the resource.\",\"orcid.frontend.manual_work_form_contents.labelTitleInstitutionPlaceholder\":\"Add institution name\",\"orcid.frontend.security.2fa.bad_recovery_code\":\"Invalid recovery code\",\"idpEntry.label\":\"Or enter your organization\'s name\",\"fatal.divMissing\":\"<div> specified  as \\\"insertAtDiv\\\" could not be located in the HTML\",\"common.js.domain.warn.template\":\"Warning! {{curentDomian}} is a test website. \",\"common.js.domain.warn.is_the_official\":\" is the official website. Sandbox only sends email messages to \",\"idpPreferred.label\":\"Use a suggested selection:\",\"fatal.badProtocol\":\"Return request must start with https:\/\/ or http:\/\/\",\"orcid.frontend.security.2fa.instructions\":\"Enter a code from your two-factor authentication app\",\"orcid.frontend.manual_work_form_contents.labelTitleBookPlaceholder\":\"Add book title\",\"orcid.frontend.manual_work_form_contents.labelTitleInstitution\":\"Institution\",\"orcid.frontend.security.2fa.no_device_or_recovery\":\"Don\u2019t have your device or recovery code? \",\"admin.profile_reactivation.success\":\"Profile successfully reactivated.\",\"manage.socialNetworks.hide\":\"Hide\",\"orcid.frontend.manual_work_form_contents.labelTitleIntellectualPropertyPlaceholder\":\"Publisher\",\"common.old.browser_1\":\"We notice you are using a browser that our site does not support. Some features on this site may not work correctly. \",\"fatal.wrongEntityId\":\"entityId supplied by SP did not match configuration\",\"manage.email.current\":\"Current\",\"login.forgotten_password\":\"Forgotten your password? Reset it here\",\"admin.edit_client.success\":\"Client was successfully updated\",\"manage.editTable.removeDuplicate\":\"Remove duplicate record\",\"orcid.frontend.security.deprecated_with_primary\":\"This account is deprecated. Please refer to account: {{primary}}\",\"manage.editTable.hide\":\"Hide\",\"orcid.frontend.workspace.ensure_future_access\":\"Make full use of your ORCID iD! Verify your primary email address in order to access all of our editing features.\",\"orcid.frontend.manual_work_form_contents.labelTitleMagazineArticlePlaceholder\":\"Add magazine name\",\"funding.add.external_id.title.contract\":\"CONTRACT NUMBER\",\"orcid.frontend.workspace.your_primary_email\":\"Please verify your email address!\",\"common.cookies.click_dismiss\":\"Dismiss\",\"orcid.frontend.security.2fa.label\":\"Two-factor authentication code\",\"orcid.frontend.manual_work_form_contents.labelTitleMagazineArticle\":\"Magazine title\",\"common.old_browser_3\":\"supported browser\",\"common.old_browser_2\":\"We recommend that you upgrade to a\",\"idpList.showSearch\":\"Allow me to specify the site\",\"manage_member.edit_member.success\":\"Member was successfully updated\",\"common.js.domain.warn.mailinator\":\"mailinator.com\",\"orcid.frontend.security.2fa.recoveryCode\":\"Recovery code\",\"orcid.frontend.freemarker.btncancel\":\"Cancel\",\"manage.editTable.show\":\"Show\",\"admin.profile_deactivation.success\":\"Profile successfully deactivated.\",\"funding.add.external_id.url.placeholder.contract\":\"Enter contract URL\",\"fatal.noReturnURL\":\"No URL return parameter provided\",\"delegators.nomatches\":\"no matches, please search again\",\"orcid.frontend.security.deprecated\":\"This account is deprecated.\",\"defaultLogoAlt\":\"DefaultLogo\",\"idpList.NoPreferred.label\":\"Select your organization from the list below\",\"orcid.frontend.workspace.send_verification\":\"Resend verification email\",\"manage.editTable.edit\":\"Edit\",\"orcid.frontend.workspace.you_need_to_verify\":\"You need to verify your primary email in order to access all of our editing features.\",\"manage.socialNetworks.edit\":\"Edit\",\"common.js.domain.warn.email_addresses\":\" email addresses, see Sandbox FAQ for \",\"common.part_of\":\"Part of\",\"funding.add.external_id.value.label.grant\":\"Grant\",\"orcid.frontend.security.2fa.bad_verification_code\":\"Invalid authentication code\",\"funding.add.external_id.url.label.award\":\"Award URL\",\"affiliation.org_id.value.label.ringgold\":\"Ringgold\",\"idpList.showList\":\"Allow me to pick from a list\",\"fatal.loadFailed\":\"Oops, something went wrong. Refresh your page to try again. Failed to load: \",\"funding.add.external_id.title.award\":\"AWARD NUMBER\",\"manage.edit.emails\":\"Edit emails\",\"orcid.frontend.link.url.knowledgebase\":\"https:\/\/support.orcid.org\/hc\/articles\/360006973793\",\"workspace.works.import_wizzard.all\":\"All\",\"fatal.noData\":\"Oops, something went wrong. Refresh your page to try again. No data: \",\"orcid.frontend.manual_work_form_contents.labelTitleNewspaperPlaceholder\":\"Add newspaper name\",\"manage.editTable.deactivateRecord\":\"Deactivate this ORCID record...\",\"orcid.frontend.manual_work_form_contents.labelTitleNewsletter\":\"Newsletter title\",\"common.processing\":\"Processing\",\"funding.add.external_id.value.placeholder.contract\":\"Enter contract number\",\"affiliation.org_id.value.label.fundref\":\"FundRef\",\"funding.add.external_id.url.placeholder.award\":\"Enter award URL\",\"orcid.frontend.manual_work_form_contents.labelTitleNewsletterPlaceholder\":\"Add newsletter name\",\"orcid.frontend.security.orcid_deactivated\":\"Account deactivated - please contact support.\",\"common.js.domain.warn.orcid_org\":\"ORCID.org\",\"funding.add.external_id.url.placeholder.grant\":\"Enter grant URL\",\"orcid.frontend.manual_work_form_contents.labelTitlePublisher\":\"Publisher\",\"orcid.frontend.manual_work_form_contents.journalTitle\":\"Journal title\",\"orcid.frontend.security.bad_credentials\":\"Incorrect username and\/or password\",\"helpText\":\"Help\",\"funding.add.external_id.value.placeholder.award\":\"Enter award number\",\"orcid.frontend.manual_work_form_contents.journalTitlePlaceholder\":\"Add journal title\",\"orcid.frontend.security.invalid_user_type_1\":\"Invalid ORCID iD, please\",\"orcid.frontend.manual_work_form_contents.labelTitleNewspaper\":\"Newspaper title\",\"orcid.frontend.manual_work_form_contents.labelTitleOtherPlaceholder\":\"Publisher\",\"orcid.frontend.security.invalid_user_type_2\":\"contact support\",\"orcid.frontend.manual_work_form_contents.defaultTitle\":\"Journal title\",\"common.js.domain.warn.more_information\":\"more information\",\"manage.email.past\":\"Past\",\"submitButton.label\":\"Continue\",\"manualWork.bibtext.notValid\":\"There may be an error. Please review the BibTex before adding.\"}}");
        orcidVar.searchBaseUrl = "https://pub.orcid.org/v2.1/search/";
        orcidVar.isPasswordConfirmationRequired = false;       
        orcidVar.features = JSON.parse("{\"NEW_FOOTER\":false,\"DISABLE_1_2_ON_MEMBER_API\":true,\"AFFILIATION_SEARCH\":true,\"LAST_MOD\":true,\"HTTPS_IDS\":true,\"DIALOG_PRIVACY_OPTION\":false,\"SUPPORT_MIGRATION\":true,\"NEW_BADGES\":true,\"LANG_AR\":true,\"GROUPING_SUGGESTIONS\":false,\"COOKIE_BANNER\":true,\"WORK_GROUP_LOGGING\":false,\"SELF_SERVICE_ORG_IDS\":true,\"RE_LOGGIN_ALERT\":false,\"AFFILIATION_ORG_ID\":true,\"ANGULAR1_LEGACY\":false,\"DISABLE_1_2_ON_PUB_API\":true,\"MANUAL_WORK_GROUPING\":false,\"OPENID_SIMPLE_SUBJECT\":true,\"SURVEY\":false,\"SEARCH_RESULTS_AFFILIATIONS\":true,\"PUB_API_2_0_BY_DEFAULT\":true,\"ANGULAR2_DEV\":false,\"ANGULAR2_QA\":false,\"API_ANALYTICS_DEBUG\":false,\"MEMBER_API_2_0_BY_DEFAULT\":true,\"RESET_PASSWORD_EMAIL\":true,\"EX_ID_RESOLVER\":true,\"GROUP_AFFILIATIONS\":false,\"TWO_FACTOR_AUTHENTICATION\":true,\"REVOKE_TOKEN_ON_CODE_REUSE\":true,\"RESEARCH_RESOURCE\":true,\"DISABLE_RECAPTCHA\":false,\"DISABLE_1_1\":true}");
        orcidVar.providerId = '';
        
        
        orcidVar.oauth2Screens = false;
      
        orcidVar.originalOauth2Process = false;
      
        orcidVar.oauthUserId = "";
        orcidVar.firstName = "";
        orcidVar.lastName = ""; 
        orcidVar.emailId = "";
        orcidVar.linkRequest = "";
        orcidVar.memberSlug = "";
        
        orcidVar.loginId = "";
        
        
            orcidVar.developerToolsEnabled = false;
    </script>

<script>
	var OrcidGA = function() {
	    this.buildClientString = function(clientGroupName, clientName) {
	        return clientGroupName + ' - ' + clientName
	    };

	    this.gaPush = function(trackArray) {
	        /*
	         * window.ga is blocked by Ghostery and disconnect.me 
	         * window.gaGlobal is blocked by uBlock
	        */
	
	        if(window.ga && window.gaGlobal) {
	            if(typeof trackArray === 'function') {
	                ga(trackArray);
	            } else {
	                //Anonymize IP for each hit per
	                //https://developers.google.com/analytics/devguides/collection/analyticsjs/ip-anonymization
	                if(trackArray[5] == undefined) {
	                    ga(trackArray[0], trackArray[1], trackArray[2], trackArray[3], trackArray[4], {'anonymizeIp': true});
	                } else {
	                    ga(trackArray[0], trackArray[1], trackArray[2], trackArray[3], trackArray[4], trackArray[5], {'anonymizeIp': true});
	                }                
	                //console.log("_gap.push for " + trackArray);
	            }
	            
	            setTimeout(function(){
	                if(!ga.create) {
	                    // if it's a function and _gap isn't available run (typically only
	                    // on dev)
	                    console.log("no _gap.push for " + trackArray);
	                    if (typeof trackArray === 'function')
	                        trackArray();
	                }
	            }, 200); 
	        } else {
	            //console.log("no _gap.push for " + trackArray);
	            if (typeof trackArray === 'function')
	                trackArray();                      
	        }
	    };

	    // Delays are async functions used to make sure event track que has cleared
	    // See
	    // https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApi_gaq
	    //
	    // Additionally adding in delay:
	    // http://support.google.com/analytics/answer/1136920?hl=en
	    this.gaFormSumbitDelay = function($el) {
	        if (!$el instanceof jQuery) {
	            $el = $(el);
	        }
	        this.gaPush(function() {
	            console.log("_gap.push executing $el.submit()");
	            setTimeout(function() {
	                $el.submit();
	            }, 100);
	        });
	        return false;
	    };
	
	    this.windowLocationHrefDelay = function(url) {
	        this.gaPush(function() {
	            console.log("_gap.push has executing window.location.href " + url);
	            setTimeout(function() {
	                window.location.href = url;
	            }, 100);
	        });
	        return false;
	    };
	};

	var orcidGA = new OrcidGA();	
</script>

<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/glyphicons.css" />
<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/social.css" />
<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/filetypes.css" />

<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/twitter-bootstrap/3.3.6/css/bootstrap.min.css" />
<link type="text/css" rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/nova-light/theme.css" />
<link type="text/css" rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/primeicons.css" />
<link type="text/css" rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/primeng.min.css" />
<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/orcid.new.css" />
<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/idpselect.css" />
<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/jquery-ui-1.10.0.custom.min.css" />

<script src="//orcid.org/static/release-1.246.11/javascript/respond.src.js"></script>

<link href="//orcid.org/static/release-1.246.11/html/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="//orcid.org/static/release-1.246.11/img/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="//orcid.org/static/release-1.246.11/javascript/respond.proxy.js"></script>
<style type="text/css">
        /* 
        Allow angular.js to be loaded in body, hiding cloaked elements until 
        templates compile.  The !important is important given that there may be 
        other selectors that are more specific or come later and might alter display.  
         */
        [ng\:cloak], [ng-cloak], .ng-cloak {
            display: none !important;
        }
    </style>
<link rel="shortcut icon" href="//orcid.org/static/release-1.246.11/img/favicon.ico" />
<link rel="apple-touch-icon" href="//orcid.org/static/release-1.246.11/img/apple-touch-icon.png" />
<link rel="stylesheet" href="//orcid.org/static/release-1.246.11/css/noto-font.css" />


<script type="text/ng-template" id="modal-ng2-template">
    <div [hidden]="!showModal" >
        <div class="popover-ng2-bck" (click)="closeModal()"></div>
        <div
            class="popover-ng2-content"
            id="colorbox" 
            role="dialog" 
            style="transition: width 2s, height 2s;"
            tabindex="-1" 
            [ngStyle]="{
            'height': this.elementHeight + 'px',
            'left': 'calc(50% - ' + this.elementWidth/2 + 'px)',
            'top': 'calc(50% - ' + this.elementHeight/2 + 'px)',
            'width': this.elementWidth + 'px'
            }"
        >
            <div id="cboxWrapper" 
                [ngStyle]="{
                'height': this.elementHeight + 'px',
                'width': this.elementWidth + 'px'
                }"
            >
                <div>
                    <div id="cboxTopLeft" style="float: left;"></div>
                    <div id="cboxTopCenter" style="float: left;"
                        [ngStyle]="{
                        'width': this.elementWidth + 'px'
                        }"
                    ></div>
                    <div id="cboxTopRight" style="float: left;"></div>
                </div>
                <div style="clear: left;">
                    <div id="cboxMiddleLeft" style="float: left;"
                        [ngStyle]="{
                        'height': this.elementHeight + 'px'
                        }"
                    ></div>
                    <div id="cboxContent" style="float: left;"
                        [ngStyle]="{
                            'height': this.elementHeight + 'px',
                            'width': this.elementWidth + 'px'
                        }"
                    >
                        <div id="cboxLoadedContent" style=" overflow: auto;"
                            [ngStyle]="{
                            'height': this.elementHeight + 'px',
                            'width': this.elementWidth + 'px'
                            }"
                        >
                            <div class="lightbox-container">

                                <ng-content></ng-content>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</script><script type="text/ng-template" id="ext-id-popover-ng2-template">
    <span *ngIf="relationship && relationship == 'part-of'" class='italic'>Part of </span><span>{{type | uppercase}}: </span>
    <span *ngIf="value && !url">{{value}}</span> 
    <a *ngIf="value && url" href="{{url}}" class="truncate-anchor inline" target="orcid.blank" (mouseenter)="showAffiliationExtIdPopOver(putCode)" (mouseleave)="hideAffiliationExtIdPopOver(putCode)">{{value}}</a> 
    <div *ngIf="url" class="popover-pos">
        <div class="popover-help-container">
            <div class="popover bottom" [ngClass]="{'block' : displayAffiliationExtIdPopOver[putCode] == true}">
                <div class="arrow"></div>
                <div class="popover-content">
                    <a href="{{url}}" target="orcid.blank" class="ng-binding">{{url}}</a>
                </div>
            </div>
        </div>
    </div>             
</script>


</head><body data-baseurl="/">
<root-cmp>
<style type="text/css">
        body, html {
            height: 100%;
        }
        .app-loading {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
    </style>
<noscript>
        <div class="alert alert-banner">
             For full functionality of this site it is necessary to enable JavaScript. Here are the <a href="http://www.enable-javascript.com/" target="common.browser-checks.instructionhowtoadd">
             instructions for enabling JavaScript in your web browser</a>.<br>
             ORCID uses cookies to improve your experience and to help us understand how you use our websites.  <a href="https://orcid.org/privacy-policy#TrackingTechnology" target="common.cookies.learn_more">
             Learn more about how we use cookies</a>.
        </div>
        <style type="text/css">
        .app-loading {
            display: none;
        }
    </style>
    </noscript>
<div class="app-loading">
<i class="glyphicon glyphicon-refresh spin green x8" id="spinner"></i>
<!--[if lt IE 8]>    
            <img src="//orcid.org/static/release-1.246.11/img/spin-big.gif" class="spinner" width="85" height ="85"/>
        <![endif]-->
</div>
</root-cmp>

<script type="text/ng-template" id="alert-banner-ng2-template">
    <div id="cookie-alert" class="alert alert-banner" *ngIf="showCookieNotification">
        <p><span *ngIf="!cookiesEnabled">For full functionality of this site, please enable browser cookies.</span> ORCID uses cookies to improve your experience and to help us understand how you use our websites.  <a href="https://orcid.org/privacy-policy#TrackingTechnology" target="common.cookies.learn_more">
        Learn more about how we use cookies</a>.</p>
        <button (click)="dismissCookieNotification()" class="btn btn-primary">Dismiss</button>
    </div>
</script> <alert-banner-ng2></alert-banner-ng2>



<div class="container">
<script type="text/ng-template" id="header-ng2-template">
    
    <div class="row">
        <div class="search col-md-11 col-md-offset-1 col-sm-12 col-xs-12"
            id="search" *ngIf="searchVisible == true || settingsVisible == true" >
            <!-- Search Form  -->               
            <form id="form-search" (ngSubmit)="searchSubmit()" *ngIf="searchVisible == true">
                <div id="search-box">
                    <input type="search" id="searchInput" [(ngModel)]="headerSearch.searchInput" name="searchInput"
                        (focus)="searchFocus()" (blur)="searchBlur()"
                        placeholder="Search" />
                </div>

                <div class="bar">
                    <fieldset class="search_options" *ngIf="filterActive == true"
                        >
                        <input type="radio" name="searchOption" id="filter_registry" [(ngModel)]="headerSearch.searchOption" name="searchOption" (click)="filterChange()"
                            value="registry" checked /> <label
                            for="filter_registry">The ORCID Registry</label> 
                        <input type="radio" name="searchOption" (click)="filterChange()"id="filter_website" [(ngModel)]="headerSearch.searchOption" value="website" /> <label for="filter_website">The ORCID Website</label>
                    </fieldset>
                </div>


                <div class="conditions" *ngIf="conditionsActive == true" >
                    <p>                         
                        Your use of the Registry and the results of your search are subject to ORCID's <a
                            href="https://orcid.org/legal">Terms and Conditions of Use</a>                    </p>
                </div>

                <div class="top-buttons">
                    <button type="submit" class="search-button">
                        <i class="icon-orcid-search"></i>
                    </button>
                    <a href="/orcid-search/search"
                    class="settings-button" title="Advanced Search"><i class="glyphicon glyphicon-cog"></i></a>
                </div>
            </form>
            <div class="language-selector" *ngIf="settingsVisible == true">
                <!-- Shared component -->
            
                <language-ng2></language-ng2>
                
                <div class="account-settings-mobile-menu">
                    <span class="account-settings-mobile"> 
                        <a  href="/account">
Account Settings                        </a>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="row flexbox-container">         
            <div class="col-md-9 col-sm-9 col-sm-push-3 col-md-push-3 navigation public">
                
                <!-- Mobile View -->
                <a id="mobile-menu-icon" class="mobile-button mobile-menu-icon hidden-md hidden-lg hidden-sm visible-xs"
                   (click)="toggleMenu()" [ngClass]="{'mobile-menu-active': menuVisible == true}">
                    <span class="glyphicon glyphicon-align-justify"></span>
                </a>                                
                <a href="https://orcid.org" id="logo-mini" class="pull-left"></a>
                <a id="mobile-settings" class="mobile-button mobile-settings" (click)="toggleSettings()" [ngClass]="{'mobile-menu-active': settingsVisible == true}">
                    <span class="glyphicon glyphicon-cog"></span>
                </a>
                <a id="mobile-search" class="mobile-button mobile-search" (click)="toggleSearch()" [ngClass]="{'mobile-menu-active': searchVisible == true}">
                    <span class="glyphicon glyphicon-search"></span>
                </a>
                <a href="/signin" id="mobile-sign-in" class="mobile-button mobile-sign-in">
                    <span class="glyphicon glyphicon-user"></span>
                </a>
                
                
                <!-- Desktop / Tablet View -->
                <ul class="menu public" *ngIf="menuVisible == true" (window:resize)="onResize($event)">
                    <li class="active-trail"><a href="/my-orcid">Edit your record</a></li>
                    <li><a href="/about">About ORCID</a></li>
                    <li><a href="/help/contact-us">Contact us</a></li>
                    <li><a href="/help">Help</a></li>
                </ul> 
            </div>
<!--drupal menu-->
        <div class="col-md-3 col-sm-3 col-sm-pull-9 col-md-pull-9 reset logo">
            <h1>
                <a href="https://orcid.org"><img
                    src="//orcid.org/static/release-1.246.11/img/orcid-logo.png" alt="ORCID logo" /></a>
            </h1>
            <p>Connecting Research and Researchers</p>
        </div>
        <p class="see-more">5,603,890 ORCID iDs and counting. <a href="/statistics"
             title="">See more...</a>
        </p>
    </div><!-- .row -->
    
</script>
<script type="text/ng-template" id="language-ng2-template"> 
    <form id="language-form" action="#">
        <select
            *ngIf="languages"
            name="language-codes" id="language-codes"
            [(ngModel)]="language" 
            (ngModelChange)="selectedLanguage()"
        >
            <option 
                *ngFor="let languageOpt of languages"
                [value]="languageOpt.value"
                [selected]="languageOpt.value == language.value"
            >
                {{languageOpt.label}}   
            </option>             
            
        </select>
    </form>                     
</script>
<div class="header center">
<header-ng2></header-ng2>
</div>
<div id="main" role="main" class="main">
<div class="row workspace-top public-profile">
<div class="col-md-3 lhs left-aside">
<div class="workspace-left workspace-profile">
<div class="id-banner">
<h2 class="full-name">
Yurii Kryvenchuk
</h2>
<div class="oid">
<div class="id-banner-header">
<span>ORCID iD</span>
</div>
<div class="orcid-id-container">
<div class="orcid-id-options">
<div class="orcid-id-info">
<span class="mini-orcid-icon-16"></span>

<span id="orcid-id" class="orcid-id-https">https://orcid.org/0000-0002-2504-5833</span>
</div>
</div>
</div>
</div>
</div>
<script type="text/ng-template" id="print-record-ng2-template">
    <div class="print-orcid-record">
                    <a id="printRecord" (click)="printRecord('https://orcid.org/0000-0002-2504-5833/print')">
            <span class="glyphicon glyphicon-print"></span> Print view</a>
            <div class="popover-help-container">
                <i class="glyphicon glyphicon-question-sign"></i>
                <div id="print-help" class="popover bottom">
                    <div class="arrow"></div>
                    <div class="popover-content">
                        <p>Open a version of this ORCID record formatted for printing.</p>
                    </div>
                </div>
            </div>  
    </div>
</script>
<print-record-ng2></print-record-ng2>

<script type="text/ng-template" id="public-record-ng2-template">    
        <!-- Other Names -->
            <div class="workspace-section">
                <div class="workspace-section-header">
                    <ul class="inline-list visible workspace-section-heading">
                        <li><span class="workspace-section-title">Also known as</span></li>
                        <li class="right">                                  
                            <span (click)="toggleSourcesDisplay('other-names')" class="right toggle" (mouseenter)="showPopover('other-names')" (mouseleave)="hidePopover('other-names')">
                                <i [ngClass]="(showSources['other-names'] || showSources['other-names'] == 'null')? 'glyphicons collapse_top relative' : 'glyphicons expand relative'"></i>
                                <div class="popover top" [ngClass]="{'block' : popoverShowing['other-names']}">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="showSources['other-names'] == false  || showSources['other-names'] == null">Show details</span>
                                        <span *ngIf="showSources['other-names']">Hide details</span>
                                    </div>
                                </div>                                          
                            </span>                                                                             
                        </li>                               
                    </ul>
                </div>
                <div id="public-other-names-div" class="public-content">
                        <span name="other-name">Kryvenchuk Yurij</span><span *ngIf="showSources['other-names'] == false || showSources['other-names'] == null">, </span>                                   
                        <div *ngIf="showSources['other-names']" class="source-line separator">
                            <p>Sources:<br />
                                    Yurii Kryvenchuk  (2018-03-30)
                            </p>
                        </div>
                        <span name="other-name"> </span>                                   
                        <div *ngIf="showSources['other-names']" class="source-line separator">
                            <p>Sources:<br />
                                    Yurii Kryvenchuk  (2018-03-30)
                            </p>
                        </div>
                </div>
            </div>                    
        
        <!-- Websites -->                       
        <!-- Countries -->                                 
            <div class="workspace-section">
                <div class="workspace-section-header">
                    <ul class="inline-list visible workspace-section-heading">
                        <li><span class="workspace-section-title">Country</span></li>                                   
                            <li class="right">                  
                                <span (click)="toggleSourcesDisplay('countries')" class="right toggle" (mouseenter)="showPopover('countries')" (mouseleave)="hidePopover('countries')">
                                    <i [ngClass]="(showSources['countries'] || showSources['countries'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'"></i>
                                    <div class="popover top" [ngClass]="{'block' : popoverShowing['countries']}">
                                        <div class="arrow"></div>
                                        <div class="popover-content">
                                            <span *ngIf="showSources['countries'] == false  || showSources['countries'] == null">Show details</span>
                                            <span *ngIf="showSources['countries']">Hide details</span>
                                        </div>
                                    </div>
                                </span>                                     
                            </li>
                    </ul>                               
                    <div id="public-country-div" class="public-content">
                            <span name="country">Ukraine</span>                                    
                            <div *ngIf="showSources['countries']" class="source-line separator">
                                <p>Sources:<br />
                                        Yurii Kryvenchuk  (2017-10-08)
                                </p>
                            </div>
                    </div>
                </div>
            </div>
        <!-- Keywords -->
            <div class="workspace-section">
                <div class="workspace-section-header">
                    <ul class="inline-list visible workspace-section-heading">
                        <li><span class="workspace-section-title">Keywords</span></li>
                        <li class="right">                                      
                            <span (click)="toggleSourcesDisplay('keywords')" class="right toggle" (mouseenter)="showPopover('keywords')" (mouseleave)="hidePopover('keywords')">
                                <i [ngClass]="(showSources['keywords'] || showSources['keywords'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'"></i>
                                <div class="popover top" [ngClass]="{'block' : popoverShowing['keywords']}">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="showSources['keywords'] == false  || showSources['keywords'] == null">Show details</span>
                                        <span *ngIf="showSources['keywords']">Hide details</span>
                                    </div>
                                </div>
                            </span>
                        </li>                               
                    </ul>   
                    <div id="public-keywords-div" class="public-content">                                   
                            <span name="keyword">IT, Data science,  Thermometry, Measurement,  Nanotechnologists</span>
                            <div *ngIf="showSources['keywords']" class="source-line separator">
                                <p>Sources:<br />
                                        Yurii Kryvenchuk (2017-10-08)
                                </p>
                            </div>
                    </div>
                </div>
            </div>
        <!-- Websites -->                       
            <div class="workspace-section">
                <div class="workspace-section-header">
                    <ul class="inline-list visible workspace-section-heading">
                        <li><span class="workspace-section-title">Websites</span></li>
                        <li class="right">                                      
                            <span (click)="toggleSourcesDisplay('websites')" class="right toggle" (mouseenter)="showPopover('websites')" (mouseleave)="hidePopover('websites')">
                                <i [ngClass]="(showSources['websites'] || showSources['websites'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'"></i>
                                <div class="popover top" [ngClass]="{'block' : popoverShowing['websites']}">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="showSources['websites'] == false  || showSources['websites'] == null">Show details</span>
                                        <span *ngIf="showSources['websites']">Hide details</span>
                                    </div>
                                </div>
                            </span>
                        </li>                               
                    </ul>
                    <div id="public-researcher-urls-div" class="public-content">                                       
                                      <a href="http://lp.edu.ua/" target="researcherUrl.urlName" rel="me nofollow">http://lp.edu.ua/</a>
                                    <div *ngIf="showSources['websites']" class="source-line separator">
                                        <p>Sources:<br />
                                    Yurii Kryvenchuk (2017-10-08)
                            </p>
                            </div>                                      
                    </div>
                </div>
            </div>
        <!-- External Identifiers -->
            <div class="workspace-section">
                <div class="workspace-section-header">
                    <ul class="inline-list visible workspace-section-heading">
                        <li><span class="workspace-section-title">Other IDs</span></li>
                        <li class="right">
                            <span (click)="toggleSourcesDisplay('external-identifiers')" class="right toggle" (mouseenter)="showPopover('external-identifiers')" (mouseleave)="hidePopover('external-identifiers')">
                                <i [ngClass]="(showSources['external-identifiers'] || showSources['external-identifiers'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'"></i>
                                <div class="popover top" [ngClass]="{'block' : popoverShowing['external-identifiers']}">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="showSources['external-identifiers'] == false  || showSources['external-identifiers'] == null">Show details</span>
                                        <span *ngIf="showSources['external-identifiers']">Hide details</span>
                                    </div>
                                </div>
                            </span>                                     
                        </li>                               
                    </ul>                               
                    <div id="public-external-identifiers-div" class="public-content">
                                        <a href="http://www.scopus.com/inward/authorDetails.url?authorID=57198358655&amp;partnerID=MN8TOARS" target="externalIdentifier.value">Scopus Author ID: 57198358655</a>
                                    <div *ngIf="showSources['external-identifiers']" class="source-line separator">                                                                                                                            
                                        <p>Sources:<br />
                                Scopus - Elsevier (2018-03-06)
                           </p>
                       </div>                                                   
                    </div>
                 </div>
             </div>                 
        <!-- Email -->
            <div class="workspace-section">
                <div class="workspace-section-header">
                    <ul class="inline-list visible workspace-section-heading">
                        <li><span class="workspace-section-title">Email</span></li>
                        <li class="right">                                      
                            <span (click)="toggleSourcesDisplay('emails')" class="right toggle" (mouseenter)="showPopover('emails')" (mouseleave)="hidePopover('emails')">
                                <i [ngClass]="(showSources['emails'] || showSources['emails'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'"></i>
                                <div class="popover top" [ngClass]="{'block' : popoverShowing['emails']}">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="showSources['emails'] == false  || showSources['emails'] == null">Show details</span>
                                        <span *ngIf="showSources['emails']">Hide details</span>
                                    </div>
                                </div>
                            </span>
                        </li>                               
                    </ul>                               
                    <div class="public-content" id="public-emails-div">
                            <div name="email">Yurii.P.Kryvenchuk@lpnu.ua</div>    
                            <div *ngIf="showSources['emails']" class="source-line separator">                                      
                                <p>Sources:<br />
                                        Yurii Kryvenchuk (2017-10-08)
                                </p>
                            </div>                          
                    </div>                              
                </div>
            </div>
</script>
<public-record-ng2></public-record-ng2>
</div>
</div>
<div class="col-md-9 right-aside">
<div class="workspace-right">
<div class="workspace-inner-public workspace-public workspace-accordion">
<script type="text/ng-template" id="affiliation-ng2-template">
    <div>
        <!-- EMPLOYMENT -->
        <div id="workspace-employment" class="workspace-accordion-item workspace-accordion-active" [hidden]="publicView == 'true' && employments.length < 1">
            <div class="workspace-accordion-header clearfix">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <a (click)="workspaceSrvc.toggleEmployment()" class="toggle-text">
                            <i class="glyphicon-chevron-down glyphicon x075" [ngClass]="{'glyphicon-chevron-right':workspaceSrvc.displayEmployment==false}"></i>
                            Employment (<span>{{employments.length}}</span>)
                        </a>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12 action-button-bar" *ngIf="workspaceSrvc.displayEmployment">
                        <div class="menu-container">                                     
                            <ul class="toggle-menu">
                                <li>
                                    <span class="glyphicon glyphicon-sort"></span>                          
Sort                                    <ul class="menu-options sort">
                                        <li [ngClass]="{'checked':sortDisplayKeyEmployments=='startDate'}">                                         
                                            <a (click)="sort('employment', 'startDate', true);" class="action-option manage-button">
Start                                                <span *ngIf="sortDisplayKeyEmployments=='startDate' && sortAscEmployments==false" [ngClass]="{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyEmployments=='startDate'}"></span>
                                                <span *ngIf="sortDisplayKeyEmployments=='startDate' && sortAscEmployments==true" [ngClass]="{'glyphicon glyphicon-sort-by-order':sortDisplayKeyEmployments=='startDate'}"></span>
                                            </a>                                                                                    
                                        </li>
                                        <li [ngClass]="{'checked':sortDisplayKeyEmployments=='endDate'}">
                                            <a (click)="sort('employment', 'endDate', true);" class="action-option manage-button">
End                                                <span *ngIf="sortDisplayKeyEmployments=='endDate' && sortAscEmployments==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEmployments=='endDate'}" ></span>
                                                <span *ngIf="sortDisplayKeyEmployments=='endDate' && sortAscEmployments==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEmployments=='endDate'}" ></span>
                                            </a>                                            
                                        </li>
                                        <li [ngClass]="{'checked':sortDisplayKeyEmployments=='title'}">                                            
                                            <a (click)="sort('employment', 'title', true);" class="action-option manage-button">
Title                                                <span *ngIf="sortDisplayKeyEmployments=='title' && sortAscEmployments==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEmployments=='title'}" ></span>
                                                <span *ngIf="sortDisplayKeyEmployments=='title' && sortAscEmployments==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEmployments=='title'}" ></span>
                                            </a>                                            
                                        </li>                                            
                                    </ul>                                        
                                </li>
                            </ul>                                   
                        </div>
                    </div>
                </div>
            </div>                        
            <div *ngIf="workspaceSrvc.displayEmployment" class="workspace-accordion-content">
                <div id="employments-empty" *ngIf="!employments?.length">
                    <strong>
                            <strong></strong>
                    </strong>
                </div>
                <ul id="employments-list" *ngIf="employments?.length > 0" class="workspace-affiliations bottom-margin-medium" id="body-employment-list">
                    <li class="bottom-margin-small workspace-border-box card" *ngFor="let group of (employments | orderByAffiliations: sortKeyEmployments:sortAscEmployments)" [attr.employment-put-code]="group?.defaultAffiliation?.putCode.value">
<div class="work-list-container">
    <ul class="sources-edit-list">
        <!--Edit sources-->
        <li *ngIf="editSources[group?.activePutCode]" class="source-header" [ngClass]="{'source-active' : editSources[group?.activePutCode] == true}">
            <div class="sources-header">
                <div class="row">
                    <div class="col-md-7 col-sm-7 col-xs-6">
                        Sources <span class="hide-sources" (click)="hideSources(group)">Close sources</span>
                    </div>
                    
                    <div class="col-md-2 col-sm-2 hidden-xs">
Preferred                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-6 right padding-left-fix">
                        <div class="workspace-toolbar">
                            <ul class="workspace-private-toolbar"> 
                                <!--Show/hide details-->              
                                <li *ngIf="orgIdsFeatureEnabled" class="works-details">
                                    <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                        <span [ngClass]="(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                        </span>
                                    </a>
                                    <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group?.activePutCode+'-showHideDetails']">
                                         <div class="arrow"></div>
                                        <div class="popover-content">   
                                            <span *ngIf="moreInfo[group?.activePutCode] == false || moreInfo[group?.activePutCode] == null">Show Details</span>   
                                            <span *ngIf="moreInfo[group?.activePutCode]">Hide Details</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <!--End edit sources-->
        <ng-container *ngFor="let affiliation of group.affiliations; let index = index; let first = first; let last = last;">
            <li *ngIf="group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true">
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode?.value">
                    <div class="col-md-9 col-sm-9 col-xs-7">
                        <h3 class="workspace-title">
                            <span>{{affiliation?.affiliationName?.value}}</span>:
                            <span>{{affiliation?.city.value}}</span><span *ngIf="affiliation?.region?.value">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf="affiliation?.countryForDisplay">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               
                        </h3>                                                      
                        <div class="info-detail">
                            <div class="info-date">                     
                                <span class="affiliation-date" *ngIf="affiliation?.startDate">
                                    <span *ngIf="affiliation?.startDate.year">{{affiliation?.startDate.year}}</span><span *ngIf="affiliation?.startDate.month">-{{affiliation?.startDate.month}}</span><span *ngIf="affiliation?.startDate.day">-{{affiliation?.startDate.day}}</span>
                                    <span *ngIf="affiliation?.endDate && affiliation?.endDate.year">&nbsp;to&nbsp;</span>
                                    <span *ngIf="(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year)">&nbsp;to&nbsp;present</span>
                                    <span *ngIf="affiliation?.endDate">
                                        <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                    </span>
                                </span>
                                <span class="affiliation-date" *ngIf="!affiliation?.startDate && affiliation?.endDate">
                                     <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                </span>
                                <span *ngIf="(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)"> | </span> <span *ngIf="affiliation?.roleTitle?.value">{{affiliation?.roleTitle?.value}}</span>        
                                <span *ngIf="affiliation?.departmentName?.value">
                                <span *ngIf="affiliation?.roleTitle?.value && !printView">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)
                                </span>
                            </div><!--info-date-->
                        </div><!--info-detail-->
                        <div class="info-detail" *ngIf="affiliation?.affiliationType?.value">
                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-5 workspace-toolbar">
                        <ul class="workspace-private-toolbar" *ngIf="!editSources[group.activePutCode]"> 
                            <!--Show details toggle-->
                            <li class="works-details" *ngIf="!editSources[group.activePutCode]">
                                <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                    <span [ngClass]="(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                    </span>
                                </a>
                                <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group.activePutCode+'-showHideDetails']">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="moreInfo[group.activePutCode] == false || moreInfo[group.activePutCode] == null">Show Details</span>   
                                        <span *ngIf="moreInfo[group.activePutCode]">Hide Details</span>
                                    </div>
                                </div>
                            </li>
                            <!--Visibility selector-->
                        </ul>
                        <!--Inconsistent visibility warning-->  
                    </div>
                </div><!--row-->
                <!--Identifiers-->
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <div class="col-md-12 col-sm-12 bottomBuffer">
                        <ul class="id-details clearfix">
                            <li class="url-work clearfix">
                                <ul class="id-details clearfix">
                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:["-relationship.value", "type.value"]' class="url-popover">
                                        <span *ngIf="affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0">
                                            <ext-id-popover-ng2 [extID]="extID" [putCode]="affiliation.putCode.value+i" [activityType]="'affiliation'"></ext-id-popover-ng2>
                                        </span>
                                     </li>
                                </ul>                                   
                            </li>
                        </ul>
                    </div>
                </div><!--Identifiers-->
                <!--More info-->
                <div class="more-info" *ngIf="moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value">
                    <div id="ajax-loader" *ngIf="affiliationService.details[affiliation.putCode.value] == undefined">
                        <span id="ajax-loader"><i id="ajax-loader" class="glyphicon glyphicon-refresh spin x4 green"></i></span>
                    </div> 
                    <div class="content" *ngIf="affiliationService.details[affiliation.putCode.value] != undefined">   
                        <span class="dotted-bar"></span>
                        <div class="row"> 
                            <!--Org id-->
                            <div class="org-ids" *ngIf="affiliation?.orgDisambiguatedId?.value">
                                <div class="col-md-12">   
                                    <strong>Organization identifiers</strong><br>
                                    <org-identifier-popover-ng2 [value]="affiliation?.disambiguatedAffiliationSourceId?.value" [putCode]="affiliation?.putCode?.value" [type]="affiliation?.disambiguationSource?.value"></org-identifier-popover-ng2>
                                </div>
                            </div><!--org-ids-->
                            <!--URL-->
                            <div class="col-md-6" *ngIf="affiliationService.details[affiliation.putCode.value]?.url?.value">
                                <div class="bottomBuffer">
                                    <strong>URL</strong><br> 
                                    <a href="{{affiliationService.details[affiliation.putCode.value]?.url?.value}}" target="affiliation.url.value">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>
                                </div>
                            </div>          
                        </div><!--row--> 
                        <!--Created date--.                 
                        <div class="row bottomBuffer">
                            <div class="col-md-6">
                                <div class="bottomBuffer">
                                    <strong>Created</strong><br> 
                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>
                                </div>    
                            </div>    
                        </div><!--Created date--> 
                    </div> <!--content-->
                </div><!--More info-->
                <!--Source line-->
                <div class="row source-line" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <!--Edit sources-->
                    <!--Source name-->
                    <div class="col-md-7 col-sm-7 col-xs-12" *ngIf="editSources[group.activePutCode]">
                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    <!--Preferred source-->
                    <div class="col-md-3 col-sm-3 col-xs-10" *ngIf="editSources[group.activePutCode]">
                        <div *ngIf="editSources[group.activePutCode]">
                            <span class="glyphicon glyphicon-check" *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"></span><span *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"> Preferred source</span>                            
                        </div>
                    </div>
                    <!--Edit/delete sources-->
                    <div class="col-md-2 col-sm-2 trash-source" *ngIf="editSources[group.activePutCode]">
                        <div>
                        </div>
                    </div>
                    <!--Edit sources-->
                </div>
                <div *ngIf="group.activePutCode != affiliation.putCode.value" class="row source-line">
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        <a (click)="swapSources(group, affiliation.putCode.value)">                               
                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                        </a>
                    </div>                                       
                    <div class="col-md-3 col-sm-3 col-xs-10">
                    </div>
                    <!--Action buttons-->
                    <div class="col-md-2 col-sm-2 col-xs-2 trash-source">
                    </div>
                </div>
                <div class="row source-line" *ngIf="!editSources[group.activePutCode]">                        
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        Source: {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-9">
                        <span class="glyphicon glyphicon-check"></span><span> Preferred source</span> <span *ngIf="group?.affiliations?.length != 1"> (</span><a (click)="showSources(group, $event)" *ngIf="group?.affiliations?.length != 1" (mouseenter)="showTooltip(group.activePutCode+'-sources')" (mouseleave)="hideTooltip(group.activePutCode+'-sources')">of {{group.affiliations.length}}</a><span *ngIf="group?.affiliations?.length != 1">)</span>

                        <div class="popover popover-tooltip top sources-popover" *ngIf="showElement[group.activePutCode+'-sources']">
                            <div class="arrow"></div>
                            <div class="popover-content">
Show other sources                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-sm-2 col-xs-3" *ngIf="group.activePutCode == affiliation.putCode.value">
                        <ul class="sources-options" >
                        </ul>
                    </div>
                </div> 
            </li>
        </ng-container>
    </ul>
</div>                    </li>
                </ul>
            </div>                                                  
        </div>        
        <!-- EDUCATION AND QUALIFICATION -->
        <div id="workspace-education" class="workspace-accordion-item workspace-accordion-active" [hidden]="publicView == 'true' && educationsAndQualifications.length < 1">
            <div class="workspace-accordion-header clearfix">
                <div class="row">                    
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <a name='workspace-educations-qualifications'></a>
                        <a (click)="workspaceSrvc.toggleEducation();workspaceSrvc.toggleEducationAndQualification();" class="toggle-text">
                            <i class="glyphicon-chevron-down glyphicon x075" [ngClass]="{ 'glyphicon-chevron-right': displayEducationAndQualification()==false }"></i>                               
                            Education and qualifications (<span>{{educationsAndQualifications.length}}</span>)
                        </a>    
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12 action-button-bar" *ngIf="displayEducationAndQualification()">
                            <div class="menu-container">   
                                <ul class="toggle-menu">
                                    <li>
                                        <span class="glyphicon glyphicon-sort"></span>                          
Sort                                        <ul class="menu-options sort">
                                            <li [ngClass]="{'checked':sortDisplayKeyEducations=='startDate'}">                                         
                                                <a (click)="sort('education', 'startDate', true);" class="action-option manage-button">
Start                                                    <span *ngIf="sortDisplayKeyEducations=='startDate' && sortAscEducations==false" [ngClass]="{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyEducations=='startDate'}"></span>
                                                    <span *ngIf="sortDisplayKeyEducations=='startDate' && sortAscEducations==true" [ngClass]="{'glyphicon glyphicon-sort-by-order':sortDisplayKeyEducations=='startDate'}"></span>
                                                </a>                                                                                    
                                            </li>
                                            <li [ngClass]="{'checked':sortDisplayKeyEducations=='endDate'}">
                                                <a (click)="sort('education', 'endDate', true);" class="action-option manage-button">
End                                                    <span *ngIf="sortDisplayKeyEducations=='endDate' && sortAscEducations==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEducations=='endDate'}" ></span>
                                                    <span *ngIf="sortDisplayKeyEducations=='endDate' && sortAscEducations==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEducations=='endDate'}" ></span>
                                                </a>                                            
                                            </li>
                                            <li [ngClass]="{'checked':sortDisplayKeyEducations=='title'}">                                            
                                                <a (click)="sort('education', 'title', true);" class="action-option manage-button">
Title                                                    <span *ngIf="sortDisplayKeyEducations=='title' && sortAscEducations==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEducations=='title'}" ></span>
                                                    <span *ngIf="sortDisplayKeyEducations=='title' && sortAscEducations==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEducations=='title'}" ></span>
                                                </a>                                            
                                            </li>                                            
                                        </ul> 
                                    </li>
                                </ul>                                   
                            </div>
                    </div>
                </div>
            </div>            
            <div *ngIf="workspaceSrvc.displayEducation || workspaceSrvc.displayEducationAndQualification" class="workspace-accordion-content"> 
                <div id="educations-distinctions-empty" *ngIf="!educationsAndQualifications?.length && workspaceSrvc?.displayEducationAndQualification">
                    <strong>
                            <strong>No education nor qualification added yet</strong>
                    </strong>
                </div>
                <ul id="educations-distinctions-list" *ngIf="educationsAndQualifications?.length" class="workspace-affiliations bottom-margin-medium" id="body-education-list">
                    <li class="bottom-margin-small workspace-border-box card ng-scope" *ngFor="let group of (educationsAndQualifications | orderByAffiliations: sortKeyEducations:sortAscEducations)" [attr.education-distinction-put-code]="group?.defaultAffiliation?.putCode.value">
<div class="work-list-container">
    <ul class="sources-edit-list">
        <!--Edit sources-->
        <li *ngIf="editSources[group?.activePutCode]" class="source-header" [ngClass]="{'source-active' : editSources[group?.activePutCode] == true}">
            <div class="sources-header">
                <div class="row">
                    <div class="col-md-7 col-sm-7 col-xs-6">
                        Sources <span class="hide-sources" (click)="hideSources(group)">Close sources</span>
                    </div>
                    
                    <div class="col-md-2 col-sm-2 hidden-xs">
Preferred                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-6 right padding-left-fix">
                        <div class="workspace-toolbar">
                            <ul class="workspace-private-toolbar"> 
                                <!--Show/hide details-->              
                                <li *ngIf="orgIdsFeatureEnabled" class="works-details">
                                    <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                        <span [ngClass]="(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                        </span>
                                    </a>
                                    <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group?.activePutCode+'-showHideDetails']">
                                         <div class="arrow"></div>
                                        <div class="popover-content">   
                                            <span *ngIf="moreInfo[group?.activePutCode] == false || moreInfo[group?.activePutCode] == null">Show Details</span>   
                                            <span *ngIf="moreInfo[group?.activePutCode]">Hide Details</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <!--End edit sources-->
        <ng-container *ngFor="let affiliation of group.affiliations; let index = index; let first = first; let last = last;">
            <li *ngIf="group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true">
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode?.value">
                    <div class="col-md-9 col-sm-9 col-xs-7">
                        <h3 class="workspace-title">
                            <span>{{affiliation?.affiliationName?.value}}</span>:
                            <span>{{affiliation?.city.value}}</span><span *ngIf="affiliation?.region?.value">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf="affiliation?.countryForDisplay">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               
                        </h3>                                                      
                        <div class="info-detail">
                            <div class="info-date">                     
                                <span class="affiliation-date" *ngIf="affiliation?.startDate">
                                    <span *ngIf="affiliation?.startDate.year">{{affiliation?.startDate.year}}</span><span *ngIf="affiliation?.startDate.month">-{{affiliation?.startDate.month}}</span><span *ngIf="affiliation?.startDate.day">-{{affiliation?.startDate.day}}</span>
                                    <span *ngIf="affiliation?.endDate && affiliation?.endDate.year">&nbsp;to&nbsp;</span>
                                    <span *ngIf="(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year)">&nbsp;to&nbsp;present</span>
                                    <span *ngIf="affiliation?.endDate">
                                        <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                    </span>
                                </span>
                                <span class="affiliation-date" *ngIf="!affiliation?.startDate && affiliation?.endDate">
                                     <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                </span>
                                <span *ngIf="(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)"> | </span> <span *ngIf="affiliation?.roleTitle?.value">{{affiliation?.roleTitle?.value}}</span>        
                                <span *ngIf="affiliation?.departmentName?.value">
                                <span *ngIf="affiliation?.roleTitle?.value && !printView">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)
                                </span>
                            </div><!--info-date-->
                        </div><!--info-detail-->
                        <div class="info-detail" *ngIf="affiliation?.affiliationType?.value">
                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-5 workspace-toolbar">
                        <ul class="workspace-private-toolbar" *ngIf="!editSources[group.activePutCode]"> 
                            <!--Show details toggle-->
                            <li class="works-details" *ngIf="!editSources[group.activePutCode]">
                                <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                    <span [ngClass]="(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                    </span>
                                </a>
                                <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group.activePutCode+'-showHideDetails']">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="moreInfo[group.activePutCode] == false || moreInfo[group.activePutCode] == null">Show Details</span>   
                                        <span *ngIf="moreInfo[group.activePutCode]">Hide Details</span>
                                    </div>
                                </div>
                            </li>
                            <!--Visibility selector-->
                        </ul>
                        <!--Inconsistent visibility warning-->  
                    </div>
                </div><!--row-->
                <!--Identifiers-->
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <div class="col-md-12 col-sm-12 bottomBuffer">
                        <ul class="id-details clearfix">
                            <li class="url-work clearfix">
                                <ul class="id-details clearfix">
                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:["-relationship.value", "type.value"]' class="url-popover">
                                        <span *ngIf="affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0">
                                            <ext-id-popover-ng2 [extID]="extID" [putCode]="affiliation.putCode.value+i" [activityType]="'affiliation'"></ext-id-popover-ng2>
                                        </span>
                                     </li>
                                </ul>                                   
                            </li>
                        </ul>
                    </div>
                </div><!--Identifiers-->
                <!--More info-->
                <div class="more-info" *ngIf="moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value">
                    <div id="ajax-loader" *ngIf="affiliationService.details[affiliation.putCode.value] == undefined">
                        <span id="ajax-loader"><i id="ajax-loader" class="glyphicon glyphicon-refresh spin x4 green"></i></span>
                    </div> 
                    <div class="content" *ngIf="affiliationService.details[affiliation.putCode.value] != undefined">   
                        <span class="dotted-bar"></span>
                        <div class="row"> 
                            <!--Org id-->
                            <div class="org-ids" *ngIf="affiliation?.orgDisambiguatedId?.value">
                                <div class="col-md-12">   
                                    <strong>Organization identifiers</strong><br>
                                    <org-identifier-popover-ng2 [value]="affiliation?.disambiguatedAffiliationSourceId?.value" [putCode]="affiliation?.putCode?.value" [type]="affiliation?.disambiguationSource?.value"></org-identifier-popover-ng2>
                                </div>
                            </div><!--org-ids-->
                            <!--URL-->
                            <div class="col-md-6" *ngIf="affiliationService.details[affiliation.putCode.value]?.url?.value">
                                <div class="bottomBuffer">
                                    <strong>URL</strong><br> 
                                    <a href="{{affiliationService.details[affiliation.putCode.value]?.url?.value}}" target="affiliation.url.value">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>
                                </div>
                            </div>          
                        </div><!--row--> 
                        <!--Created date--.                 
                        <div class="row bottomBuffer">
                            <div class="col-md-6">
                                <div class="bottomBuffer">
                                    <strong>Created</strong><br> 
                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>
                                </div>    
                            </div>    
                        </div><!--Created date--> 
                    </div> <!--content-->
                </div><!--More info-->
                <!--Source line-->
                <div class="row source-line" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <!--Edit sources-->
                    <!--Source name-->
                    <div class="col-md-7 col-sm-7 col-xs-12" *ngIf="editSources[group.activePutCode]">
                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    <!--Preferred source-->
                    <div class="col-md-3 col-sm-3 col-xs-10" *ngIf="editSources[group.activePutCode]">
                        <div *ngIf="editSources[group.activePutCode]">
                            <span class="glyphicon glyphicon-check" *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"></span><span *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"> Preferred source</span>                            
                        </div>
                    </div>
                    <!--Edit/delete sources-->
                    <div class="col-md-2 col-sm-2 trash-source" *ngIf="editSources[group.activePutCode]">
                        <div>
                        </div>
                    </div>
                    <!--Edit sources-->
                </div>
                <div *ngIf="group.activePutCode != affiliation.putCode.value" class="row source-line">
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        <a (click)="swapSources(group, affiliation.putCode.value)">                               
                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                        </a>
                    </div>                                       
                    <div class="col-md-3 col-sm-3 col-xs-10">
                    </div>
                    <!--Action buttons-->
                    <div class="col-md-2 col-sm-2 col-xs-2 trash-source">
                    </div>
                </div>
                <div class="row source-line" *ngIf="!editSources[group.activePutCode]">                        
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        Source: {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-9">
                        <span class="glyphicon glyphicon-check"></span><span> Preferred source</span> <span *ngIf="group?.affiliations?.length != 1"> (</span><a (click)="showSources(group, $event)" *ngIf="group?.affiliations?.length != 1" (mouseenter)="showTooltip(group.activePutCode+'-sources')" (mouseleave)="hideTooltip(group.activePutCode+'-sources')">of {{group.affiliations.length}}</a><span *ngIf="group?.affiliations?.length != 1">)</span>

                        <div class="popover popover-tooltip top sources-popover" *ngIf="showElement[group.activePutCode+'-sources']">
                            <div class="arrow"></div>
                            <div class="popover-content">
Show other sources                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-sm-2 col-xs-3" *ngIf="group.activePutCode == affiliation.putCode.value">
                        <ul class="sources-options" >
                        </ul>
                    </div>
                </div> 
            </li>
        </ng-container>
    </ul>
</div>                    </li>
                </ul>
            </div>
        </div>
        <!-- INVITED POSITION AND DISTINCTION -->
        <div id="workspace-distinction-invited-position" class="workspace-accordion-item workspace-accordion-active" [hidden]="publicView == 'true' && distinctionsAndInvitedPositions.length < 1">
            <div class="workspace-accordion-header clearfix">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <a name='workspace-distinction-invited-position'></a>
                        <a (click)="workspaceSrvc.toggleDistinctionAndInvitedPosition($event)" class="toggle-text">
                            <i class="glyphicon-chevron-down glyphicon x075" [ngClass]="{'glyphicon-chevron-right':workspaceSrvc.displayDistinctionAndInvitedPosition==false}"></i>
                            Invited positions and distinctions (<span>{{distinctionsAndInvitedPositions.length}}</span>)
                        </a>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12 action-button-bar" *ngIf="workspaceSrvc.displayDistinctionAndInvitedPosition">
                        <div class="menu-container">                                     
                            <ul class="toggle-menu">
                                <li>
                                    <span class="glyphicon glyphicon-sort"></span>                          
Sort                                    <ul class="menu-options sort">
                                        <li [ngClass]="{'checked':sortDisplayKeyDistinctions=='startDate'}">                                         
                                            <a (click)="sort('distinction_invited_position', 'startDate', true);" class="action-option manage-button">
Start                                                <span *ngIf="sortDisplayKeyDistinctions=='startDate' && sortAscDistinctions==false" [ngClass]="{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyDistinctions=='startDate'}"></span>
                                                <span *ngIf="sortDisplayKeyDistinctions=='startDate' && sortAscDistinctions==true" [ngClass]="{'glyphicon glyphicon-sort-by-order':sortDisplayKeyDistinctions=='startDate'}"></span>
                                            </a>                                                                                    
                                        </li>
                                        <li [ngClass]="{'checked':sortDisplayKeyDistinctions=='endDate'}">
                                            <a (click)="sort('distinction_invited_position', 'endDate', true);" class="action-option manage-button">
End                                                <span *ngIf="sortDisplayKeyDistinctions=='endDate' && sortAscDistinctions==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyDistinctions=='endDate'}" ></span>
                                                <span *ngIf="sortDisplayKeyDistinctions=='endDate' && sortAscDistinctions==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyDistinctions=='endDate'}" ></span>
                                            </a>                                            
                                        </li>
                                        <li [ngClass]="{'checked':sortDisplayKeyDistinctions=='title'}">                                            
                                            <a (click)="sort('distinction_invited_position', 'title', true);" class="action-option manage-button">
Title                                                <span *ngIf="sortDisplayKeyDistinctions=='title' && sortAscDistinctions==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyDistinctions=='title'}" ></span>
                                                <span *ngIf="sortDisplayKeyDistinctions=='title' && sortAscDistinctions==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyDistinctions=='title'}" ></span>
                                            </a>                                            
                                        </li>                                            
                                    </ul>                                           
                                </li>
                            </ul>                                   
                        </div>
                    </div>
                </div>
            </div>                        
            <div *ngIf="workspaceSrvc.displayDistinctionAndInvitedPosition" class="workspace-accordion-content">
                <div id="distinction-invited-position-empty" *ngIf="!distinctionsAndInvitedPositions?.length">
                    <strong>
                            <strong>No invited position nor distinction added yet</strong>
                    </strong>
                </div>
                <ul id="distinction-invited-position-list" *ngIf="distinctionsAndInvitedPositions?.length > 0" class="workspace-affiliations bottom-margin-medium" id="body-distinction-list">
                    <li class="bottom-margin-small workspace-border-box card" *ngFor="let group of (distinctionsAndInvitedPositions | orderByAffiliations: sortKeyDistinctions:sortAscDistinctions)" [attr.distinction-invited-position-put-code]="group?.defaultAffiliation?.putCode.value">
<div class="work-list-container">
    <ul class="sources-edit-list">
        <!--Edit sources-->
        <li *ngIf="editSources[group?.activePutCode]" class="source-header" [ngClass]="{'source-active' : editSources[group?.activePutCode] == true}">
            <div class="sources-header">
                <div class="row">
                    <div class="col-md-7 col-sm-7 col-xs-6">
                        Sources <span class="hide-sources" (click)="hideSources(group)">Close sources</span>
                    </div>
                    
                    <div class="col-md-2 col-sm-2 hidden-xs">
Preferred                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-6 right padding-left-fix">
                        <div class="workspace-toolbar">
                            <ul class="workspace-private-toolbar"> 
                                <!--Show/hide details-->              
                                <li *ngIf="orgIdsFeatureEnabled" class="works-details">
                                    <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                        <span [ngClass]="(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                        </span>
                                    </a>
                                    <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group?.activePutCode+'-showHideDetails']">
                                         <div class="arrow"></div>
                                        <div class="popover-content">   
                                            <span *ngIf="moreInfo[group?.activePutCode] == false || moreInfo[group?.activePutCode] == null">Show Details</span>   
                                            <span *ngIf="moreInfo[group?.activePutCode]">Hide Details</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <!--End edit sources-->
        <ng-container *ngFor="let affiliation of group.affiliations; let index = index; let first = first; let last = last;">
            <li *ngIf="group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true">
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode?.value">
                    <div class="col-md-9 col-sm-9 col-xs-7">
                        <h3 class="workspace-title">
                            <span>{{affiliation?.affiliationName?.value}}</span>:
                            <span>{{affiliation?.city.value}}</span><span *ngIf="affiliation?.region?.value">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf="affiliation?.countryForDisplay">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               
                        </h3>                                                      
                        <div class="info-detail">
                            <div class="info-date">                     
                                <span class="affiliation-date" *ngIf="affiliation?.startDate">
                                    <span *ngIf="affiliation?.startDate.year">{{affiliation?.startDate.year}}</span><span *ngIf="affiliation?.startDate.month">-{{affiliation?.startDate.month}}</span><span *ngIf="affiliation?.startDate.day">-{{affiliation?.startDate.day}}</span>
                                    <span *ngIf="affiliation?.endDate && affiliation?.endDate.year">&nbsp;to&nbsp;</span>
                                    <span *ngIf="(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year)">&nbsp;to&nbsp;present</span>
                                    <span *ngIf="affiliation?.endDate">
                                        <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                    </span>
                                </span>
                                <span class="affiliation-date" *ngIf="!affiliation?.startDate && affiliation?.endDate">
                                     <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                </span>
                                <span *ngIf="(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)"> | </span> <span *ngIf="affiliation?.roleTitle?.value">{{affiliation?.roleTitle?.value}}</span>        
                                <span *ngIf="affiliation?.departmentName?.value">
                                <span *ngIf="affiliation?.roleTitle?.value && !printView">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)
                                </span>
                            </div><!--info-date-->
                        </div><!--info-detail-->
                        <div class="info-detail" *ngIf="affiliation?.affiliationType?.value">
                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-5 workspace-toolbar">
                        <ul class="workspace-private-toolbar" *ngIf="!editSources[group.activePutCode]"> 
                            <!--Show details toggle-->
                            <li class="works-details" *ngIf="!editSources[group.activePutCode]">
                                <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                    <span [ngClass]="(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                    </span>
                                </a>
                                <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group.activePutCode+'-showHideDetails']">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="moreInfo[group.activePutCode] == false || moreInfo[group.activePutCode] == null">Show Details</span>   
                                        <span *ngIf="moreInfo[group.activePutCode]">Hide Details</span>
                                    </div>
                                </div>
                            </li>
                            <!--Visibility selector-->
                        </ul>
                        <!--Inconsistent visibility warning-->  
                    </div>
                </div><!--row-->
                <!--Identifiers-->
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <div class="col-md-12 col-sm-12 bottomBuffer">
                        <ul class="id-details clearfix">
                            <li class="url-work clearfix">
                                <ul class="id-details clearfix">
                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:["-relationship.value", "type.value"]' class="url-popover">
                                        <span *ngIf="affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0">
                                            <ext-id-popover-ng2 [extID]="extID" [putCode]="affiliation.putCode.value+i" [activityType]="'affiliation'"></ext-id-popover-ng2>
                                        </span>
                                     </li>
                                </ul>                                   
                            </li>
                        </ul>
                    </div>
                </div><!--Identifiers-->
                <!--More info-->
                <div class="more-info" *ngIf="moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value">
                    <div id="ajax-loader" *ngIf="affiliationService.details[affiliation.putCode.value] == undefined">
                        <span id="ajax-loader"><i id="ajax-loader" class="glyphicon glyphicon-refresh spin x4 green"></i></span>
                    </div> 
                    <div class="content" *ngIf="affiliationService.details[affiliation.putCode.value] != undefined">   
                        <span class="dotted-bar"></span>
                        <div class="row"> 
                            <!--Org id-->
                            <div class="org-ids" *ngIf="affiliation?.orgDisambiguatedId?.value">
                                <div class="col-md-12">   
                                    <strong>Organization identifiers</strong><br>
                                    <org-identifier-popover-ng2 [value]="affiliation?.disambiguatedAffiliationSourceId?.value" [putCode]="affiliation?.putCode?.value" [type]="affiliation?.disambiguationSource?.value"></org-identifier-popover-ng2>
                                </div>
                            </div><!--org-ids-->
                            <!--URL-->
                            <div class="col-md-6" *ngIf="affiliationService.details[affiliation.putCode.value]?.url?.value">
                                <div class="bottomBuffer">
                                    <strong>URL</strong><br> 
                                    <a href="{{affiliationService.details[affiliation.putCode.value]?.url?.value}}" target="affiliation.url.value">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>
                                </div>
                            </div>          
                        </div><!--row--> 
                        <!--Created date--.                 
                        <div class="row bottomBuffer">
                            <div class="col-md-6">
                                <div class="bottomBuffer">
                                    <strong>Created</strong><br> 
                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>
                                </div>    
                            </div>    
                        </div><!--Created date--> 
                    </div> <!--content-->
                </div><!--More info-->
                <!--Source line-->
                <div class="row source-line" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <!--Edit sources-->
                    <!--Source name-->
                    <div class="col-md-7 col-sm-7 col-xs-12" *ngIf="editSources[group.activePutCode]">
                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    <!--Preferred source-->
                    <div class="col-md-3 col-sm-3 col-xs-10" *ngIf="editSources[group.activePutCode]">
                        <div *ngIf="editSources[group.activePutCode]">
                            <span class="glyphicon glyphicon-check" *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"></span><span *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"> Preferred source</span>                            
                        </div>
                    </div>
                    <!--Edit/delete sources-->
                    <div class="col-md-2 col-sm-2 trash-source" *ngIf="editSources[group.activePutCode]">
                        <div>
                        </div>
                    </div>
                    <!--Edit sources-->
                </div>
                <div *ngIf="group.activePutCode != affiliation.putCode.value" class="row source-line">
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        <a (click)="swapSources(group, affiliation.putCode.value)">                               
                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                        </a>
                    </div>                                       
                    <div class="col-md-3 col-sm-3 col-xs-10">
                    </div>
                    <!--Action buttons-->
                    <div class="col-md-2 col-sm-2 col-xs-2 trash-source">
                    </div>
                </div>
                <div class="row source-line" *ngIf="!editSources[group.activePutCode]">                        
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        Source: {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-9">
                        <span class="glyphicon glyphicon-check"></span><span> Preferred source</span> <span *ngIf="group?.affiliations?.length != 1"> (</span><a (click)="showSources(group, $event)" *ngIf="group?.affiliations?.length != 1" (mouseenter)="showTooltip(group.activePutCode+'-sources')" (mouseleave)="hideTooltip(group.activePutCode+'-sources')">of {{group.affiliations.length}}</a><span *ngIf="group?.affiliations?.length != 1">)</span>

                        <div class="popover popover-tooltip top sources-popover" *ngIf="showElement[group.activePutCode+'-sources']">
                            <div class="arrow"></div>
                            <div class="popover-content">
Show other sources                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-sm-2 col-xs-3" *ngIf="group.activePutCode == affiliation.putCode.value">
                        <ul class="sources-options" >
                        </ul>
                    </div>
                </div> 
            </li>
        </ng-container>
    </ul>
</div>                    </li>
                </ul>
            </div>                                                  
        </div>       
        <!-- MEMBERSHIP AND SERVICE -->
        <div id="workspace-membership-service" class="workspace-accordion-item workspace-accordion-active" [hidden]="publicView == 'true' && membershipsAndServices.length < 1">
            <div class="workspace-accordion-header clearfix">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <a name='workspace-membership-service'></a>
                        <a (click)="workspaceSrvc.toggleMembershipAndService()" class="toggle-text">
                            <i class="glyphicon-chevron-down glyphicon x075" [ngClass]="{'glyphicon-chevron-right':workspaceSrvc.displayMembershipAndService==false}"></i>
                            Membership and service (<span>{{membershipsAndServices.length}}</span>)
                        </a>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12 action-button-bar" *ngIf="workspaceSrvc.displayMembershipAndService">
                        <div class="menu-container">                                     
                            <ul class="toggle-menu">
                                <li>
                                    <span class="glyphicon glyphicon-sort"></span>                          
Sort                                    <ul class="menu-options sort">
                                        <li [ngClass]="{'checked':sortDisplayKeyMemberships=='startDate'}">                                         
                                            <a (click)="sort('membership_service', 'startDate', true);" class="action-option manage-button">
Start                                                <span *ngIf="sortDisplayKeyMemberships=='startDate' && sortAscMemberships==false" [ngClass]="{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyMemberships=='startDate'}"></span>
                                                <span *ngIf="sortDisplayKeyMemberships=='startDate' && sortAscMemberships==true" [ngClass]="{'glyphicon glyphicon-sort-by-order':sortDisplayKeyMemberships=='startDate'}"></span>
                                            </a>                                                                                    
                                        </li>
                                        <li [ngClass]="{'checked':sortDisplayKeyMemberships=='endDate'}">
                                            <a (click)="sort('membership_service', 'endDate', true);" class="action-option manage-button">
End                                                <span *ngIf="sortDisplayKeyMemberships=='endDate' && sortAscMemberships==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyMemberships=='endDate'}" ></span>
                                                <span *ngIf="sortDisplayKeyMemberships=='endDate' && sortAscMemberships==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyMemberships=='endDate'}" ></span>
                                            </a>                                            
                                        </li>
                                        <li [ngClass]="{'checked':sortDisplayKeyMemberships=='title'}">                                            
                                            <a (click)="sort('membership_service', 'title', true);" class="action-option manage-button">
Title                                                <span *ngIf="sortDisplayKeyMemberships=='title' && sortAscMemberships==false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyMemberships=='title'}" ></span>
                                                <span *ngIf="sortDisplayKeyMemberships=='title' && sortAscMemberships==true" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyMemberships=='title'}" ></span>
                                            </a>                                            
                                        </li>                                            
                                    </ul>                                          
                                </li>
                            </ul>                                   
                        </div>
                    </div>
                </div>
            </div>                        
            <div *ngIf="workspaceSrvc.displayMembershipAndService" class="workspace-accordion-content">
                <div id="membership-service-empty" *ngIf="!membershipsAndServices?.length">
                    <strong>
                            <strong>No membership nor service added yet</strong>
                    </strong>
                </div>
                <ul id="membership-service-list" *ngIf="membershipsAndServices?.length > 0" class="workspace-affiliations bottom-margin-medium" id="body-membership-list">
                    <li class="bottom-margin-small workspace-border-box card" *ngFor="let group of (membershipsAndServices | orderByAffiliations: sortKeyMemberships:sortAscMemberships)" [attr.membership-service-put-code]="group?.defaultAffiliation?.putCode.value">
<div class="work-list-container">
    <ul class="sources-edit-list">
        <!--Edit sources-->
        <li *ngIf="editSources[group?.activePutCode]" class="source-header" [ngClass]="{'source-active' : editSources[group?.activePutCode] == true}">
            <div class="sources-header">
                <div class="row">
                    <div class="col-md-7 col-sm-7 col-xs-6">
                        Sources <span class="hide-sources" (click)="hideSources(group)">Close sources</span>
                    </div>
                    
                    <div class="col-md-2 col-sm-2 hidden-xs">
Preferred                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-6 right padding-left-fix">
                        <div class="workspace-toolbar">
                            <ul class="workspace-private-toolbar"> 
                                <!--Show/hide details-->              
                                <li *ngIf="orgIdsFeatureEnabled" class="works-details">
                                    <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                        <span [ngClass]="(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                        </span>
                                    </a>
                                    <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group?.activePutCode+'-showHideDetails']">
                                         <div class="arrow"></div>
                                        <div class="popover-content">   
                                            <span *ngIf="moreInfo[group?.activePutCode] == false || moreInfo[group?.activePutCode] == null">Show Details</span>   
                                            <span *ngIf="moreInfo[group?.activePutCode]">Hide Details</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <!--End edit sources-->
        <ng-container *ngFor="let affiliation of group.affiliations; let index = index; let first = first; let last = last;">
            <li *ngIf="group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true">
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode?.value">
                    <div class="col-md-9 col-sm-9 col-xs-7">
                        <h3 class="workspace-title">
                            <span>{{affiliation?.affiliationName?.value}}</span>:
                            <span>{{affiliation?.city.value}}</span><span *ngIf="affiliation?.region?.value">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf="affiliation?.countryForDisplay">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               
                        </h3>                                                      
                        <div class="info-detail">
                            <div class="info-date">                     
                                <span class="affiliation-date" *ngIf="affiliation?.startDate">
                                    <span *ngIf="affiliation?.startDate.year">{{affiliation?.startDate.year}}</span><span *ngIf="affiliation?.startDate.month">-{{affiliation?.startDate.month}}</span><span *ngIf="affiliation?.startDate.day">-{{affiliation?.startDate.day}}</span>
                                    <span *ngIf="affiliation?.endDate && affiliation?.endDate.year">&nbsp;to&nbsp;</span>
                                    <span *ngIf="(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year)">&nbsp;to&nbsp;present</span>
                                    <span *ngIf="affiliation?.endDate">
                                        <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                    </span>
                                </span>
                                <span class="affiliation-date" *ngIf="!affiliation?.startDate && affiliation?.endDate">
                                     <span *ngIf="affiliation?.endDate.year">{{affiliation?.endDate.year}}</span><span *ngIf="affiliation?.endDate.month">-{{affiliation?.endDate.month}}</span><span *ngIf="affiliation?.endDate.day">-{{affiliation?.endDate.day}}</span>
                                </span>
                                <span *ngIf="(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)"> | </span> <span *ngIf="affiliation?.roleTitle?.value">{{affiliation?.roleTitle?.value}}</span>        
                                <span *ngIf="affiliation?.departmentName?.value">
                                <span *ngIf="affiliation?.roleTitle?.value && !printView">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)
                                </span>
                            </div><!--info-date-->
                        </div><!--info-detail-->
                        <div class="info-detail" *ngIf="affiliation?.affiliationType?.value">
                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-5 workspace-toolbar">
                        <ul class="workspace-private-toolbar" *ngIf="!editSources[group.activePutCode]"> 
                            <!--Show details toggle-->
                            <li class="works-details" *ngIf="!editSources[group.activePutCode]">
                                <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.activePutCode+'-showHideDetails')" (mouseleave)="hideTooltip(group?.activePutCode+'-showHideDetails')">
                                    <span [ngClass]="(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                    </span>
                                </a>
                                <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group.activePutCode+'-showHideDetails']">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="moreInfo[group.activePutCode] == false || moreInfo[group.activePutCode] == null">Show Details</span>   
                                        <span *ngIf="moreInfo[group.activePutCode]">Hide Details</span>
                                    </div>
                                </div>
                            </li>
                            <!--Visibility selector-->
                        </ul>
                        <!--Inconsistent visibility warning-->  
                    </div>
                </div><!--row-->
                <!--Identifiers-->
                <div class="row" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <div class="col-md-12 col-sm-12 bottomBuffer">
                        <ul class="id-details clearfix">
                            <li class="url-work clearfix">
                                <ul class="id-details clearfix">
                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:["-relationship.value", "type.value"]' class="url-popover">
                                        <span *ngIf="affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0">
                                            <ext-id-popover-ng2 [extID]="extID" [putCode]="affiliation.putCode.value+i" [activityType]="'affiliation'"></ext-id-popover-ng2>
                                        </span>
                                     </li>
                                </ul>                                   
                            </li>
                        </ul>
                    </div>
                </div><!--Identifiers-->
                <!--More info-->
                <div class="more-info" *ngIf="moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value">
                    <div id="ajax-loader" *ngIf="affiliationService.details[affiliation.putCode.value] == undefined">
                        <span id="ajax-loader"><i id="ajax-loader" class="glyphicon glyphicon-refresh spin x4 green"></i></span>
                    </div> 
                    <div class="content" *ngIf="affiliationService.details[affiliation.putCode.value] != undefined">   
                        <span class="dotted-bar"></span>
                        <div class="row"> 
                            <!--Org id-->
                            <div class="org-ids" *ngIf="affiliation?.orgDisambiguatedId?.value">
                                <div class="col-md-12">   
                                    <strong>Organization identifiers</strong><br>
                                    <org-identifier-popover-ng2 [value]="affiliation?.disambiguatedAffiliationSourceId?.value" [putCode]="affiliation?.putCode?.value" [type]="affiliation?.disambiguationSource?.value"></org-identifier-popover-ng2>
                                </div>
                            </div><!--org-ids-->
                            <!--URL-->
                            <div class="col-md-6" *ngIf="affiliationService.details[affiliation.putCode.value]?.url?.value">
                                <div class="bottomBuffer">
                                    <strong>URL</strong><br> 
                                    <a href="{{affiliationService.details[affiliation.putCode.value]?.url?.value}}" target="affiliation.url.value">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>
                                </div>
                            </div>          
                        </div><!--row--> 
                        <!--Created date--.                 
                        <div class="row bottomBuffer">
                            <div class="col-md-6">
                                <div class="bottomBuffer">
                                    <strong>Created</strong><br> 
                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>
                                </div>    
                            </div>    
                        </div><!--Created date--> 
                    </div> <!--content-->
                </div><!--More info-->
                <!--Source line-->
                <div class="row source-line" *ngIf="group.activePutCode == affiliation.putCode.value">
                    <!--Edit sources-->
                    <!--Source name-->
                    <div class="col-md-7 col-sm-7 col-xs-12" *ngIf="editSources[group.activePutCode]">
                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    <!--Preferred source-->
                    <div class="col-md-3 col-sm-3 col-xs-10" *ngIf="editSources[group.activePutCode]">
                        <div *ngIf="editSources[group.activePutCode]">
                            <span class="glyphicon glyphicon-check" *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"></span><span *ngIf="affiliation.putCode.value == group.defaultAffiliation.putCode.value"> Preferred source</span>                            
                        </div>
                    </div>
                    <!--Edit/delete sources-->
                    <div class="col-md-2 col-sm-2 trash-source" *ngIf="editSources[group.activePutCode]">
                        <div>
                        </div>
                    </div>
                    <!--Edit sources-->
                </div>
                <div *ngIf="group.activePutCode != affiliation.putCode.value" class="row source-line">
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        <a (click)="swapSources(group, affiliation.putCode.value)">                               
                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                        </a>
                    </div>                                       
                    <div class="col-md-3 col-sm-3 col-xs-10">
                    </div>
                    <!--Action buttons-->
                    <div class="col-md-2 col-sm-2 col-xs-2 trash-source">
                    </div>
                </div>
                <div class="row source-line" *ngIf="!editSources[group.activePutCode]">                        
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        Source: {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}
                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-9">
                        <span class="glyphicon glyphicon-check"></span><span> Preferred source</span> <span *ngIf="group?.affiliations?.length != 1"> (</span><a (click)="showSources(group, $event)" *ngIf="group?.affiliations?.length != 1" (mouseenter)="showTooltip(group.activePutCode+'-sources')" (mouseleave)="hideTooltip(group.activePutCode+'-sources')">of {{group.affiliations.length}}</a><span *ngIf="group?.affiliations?.length != 1">)</span>

                        <div class="popover popover-tooltip top sources-popover" *ngIf="showElement[group.activePutCode+'-sources']">
                            <div class="arrow"></div>
                            <div class="popover-content">
Show other sources                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-sm-2 col-xs-3" *ngIf="group.activePutCode == affiliation.putCode.value">
                        <ul class="sources-options" >
                        </ul>
                    </div>
                </div> 
            </li>
        </ng-container>
    </ul>
</div>                    </li>
                </ul>
            </div>                                                  
        </div>
    </div>
</script> <affiliation-ng2 publicView="true"></affiliation-ng2>


<script type="text/ng-template" id="works-ng2-template">
    <!--WORKS-->
    <div id="workspace-publications" class="workspace-accordion-item workspace-accordion-active">
        <!--Works section header--> 
        <div class="workspace-accordion-header clearfix">
            <div class="row">
                <div class="col-md-3 col-sm-3 col-xs-12">
                    <div>
                        <a (click)="toggleSectionDisplay($event)" class="toggle-text">
                           <i class="glyphicon-chevron-down glyphicon x075" [ngClass]="{'glyphicon-chevron-right':workspaceSrvc.displayWorks==false}"></i>
                           Works (<span>{{worksService.groupsLabel}}</span>)
                        </a>
                    </div>
                </div>
                <div class="col-md-9 col-sm-9 col-xs-12 action-button-bar" *ngIf="workspaceSrvc.displayWorks">
                    <!--Sort menu-->
                    <div class="menu-container">                                     
                        <ul class="toggle-menu">
                            <li>
                                <span class="glyphicon glyphicon-sort"></span>
Sort                                <ul class="menu-options sort">
                                    <li [ngClass]="{'checked':sortState.predicateKey=='date'}" *ngIf="!(sortHideOption || sortState.type == 'affiliation')">                                          
                                        <a (click)="sort('date');" class="action-option manage-button">
Date                                            <span *ngIf="sortState.reverseKey['date']" [ngClass]="{'glyphicon glyphicon-sort-by-order-alt':sortState.predicateKey=='date'}"></span>
                                            <span *ngIf="sortState.reverseKey['date'] == false" [ngClass]="{'glyphicon glyphicon-sort-by-order':sortState.predicateKey=='date'}"></span>
                                        </a>                                                                                    
                                    </li>
                                    <li [ngClass]="{'checked':sortState.predicateKey=='groupName'}" *ngIf="sortHideOption != null">
                                        <a (click)="sort('groupName');" class="action-option manage-button">
Title                                            <span *ngIf="sortState.reverseKey['groupName']" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortState.predicateKey=='groupName'}" ></span>
                                            <span *ngIf="sortState.reverseKey['groupName'] == false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortState.predicateKey=='groupName'}" ></span>
                                        </a>                                            
                                    </li>
                                    <li [ngClass]="{'checked':sortState.predicateKey=='title'}" *ngIf="!sortHideOption">                                            
                                        <a (click)="sort('title');" class="action-option manage-button">
Title                                            <span *ngIf="sortState.reverseKey['title']" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortState.predicateKey=='title'}" ></span>
                                            <span *ngIf="sortState.reverseKey['title'] == false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortState.predicateKey=='title'}" ></span>
                                        </a>                                            
                                    </li>
                                    <li [ngClass]="{'checked':sortState.predicateKey=='type'}" *ngIf="!(sortHideOption || sortState.type == 'affiliation')">                                          
                                        <a (click)="sort('type');" class="action-option manage-button">
Type                                            <span *ngIf="sortState.reverseKey['type']" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet-alt':sortState.predicateKey=='type'}"></span>
                                            <span *ngIf="sortState.reverseKey['type'] == false" [ngClass]="{'glyphicon glyphicon-sort-by-alphabet':sortState.predicateKey=='type'}"></span>
                                        </a>                                                                                        
                                    </li>
                                </ul>                                           
                            </li>
                        </ul>                                   
                    </div>
                    <!--End sort menu-->
                </div>
            </div>
        </div>
        <!--End works section header-->
        <!-- Work Import Wizard -->
        <div *ngIf="workImportWizard" class="work-import-wizard">
            <div class="ie7fix-inner">
                <div class="row"> 
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <h1 class="lightbox-title wizard-header">Link Works</h1>
                        <span (click)="showWorkImportWizard()" class="close-wizard">Hide link works</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <p class="wizard-content">
                            ORCID works with our member organizations to make it easy to connect your ORCID iD and link to information in their records. Choose one of the link wizards to get started. More information about linking works
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div id="workFilters">
                        <form class="form-inline">
                            <div class="col-md-5 col-sm-5 col-xs-12">
                                <div class="form-group">
                                    <label for="work-type">Work type</label> 
                                    <select id="work-type" name="work-type" [(ngModel)]="selectedWorkType">
                                        <option *ngFor="let wt of workType">{{wt}}</option>
                                    </select> 
                                </div> 
                            </div>
                            <div class="col-md-7 col-sm-7 col-xs-12">
                                <div class="form-group geo-area-group">
                                    <label for="geo-area">Geographical area</label>
                                    <select id="geo-area" name="geo-area" [(ngModel)]="selectedGeoArea">
                                        <option *ngFor="let ga of geoArea">{{ga}}</option>
                                    </select>   
                                </div>
                            </div>  
                        </form>
                        <hr />
                    </div>
                </div>         
                <div class="row wizards">               
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div *ngFor="let wtw of workImportWizardsOriginal | orderBy: 'name' | filterImportWizards : selectedWorkType : selectedGeoArea; let index = index; let first = first; let last = last;">
                            <strong><a (click)="openImportWizardUrlFilter('/oauth/authorize', wtw)">{{wtw.name}}</a></strong>

                            <br />                                                                                    
                            <div class="justify">                       
                                <p class="wizard-description" [ngClass]="{'ellipsis-on' : wizardDescExpanded[wtw.id] == false || wizardDescExpanded[wtw.id] == null}">
                                    {{wtw.description}}
                                    <a (click)="toggleWizardDesc(wtw.id)" *ngIf="wizardDescExpanded[wtw.id]"><span class="glyphicon glyphicon-chevron-right wizard-chevron"></span></a>
                                </p>                        
                                <a (click)="toggleWizardDesc(wtw.id)" *ngIf="wizardDescExpanded[wtw.id] == false || wizardDescExpanded[wtw.id] == null" class="toggle-wizard-desc"><span class="glyphicon glyphicon-chevron-down wizard-chevron"></span></a>
                            </div>
                            <hr/>
                        </div>
                    </div>
                </div>
            </div>            
        </div>
        <!--End import wizard-->
        <!-- Bulk Edit -->  
        <div *ngIf="bulkEditShow && workspaceSrvc.displayWorks" >           
            <div class="bulk-edit">
                <div class="row">
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        <h4>Bulk edit</h4><span class="hide-bulk" (click)="toggleBulkEdit()">Hide bulk edit</span>
                        <ol>
                            <li>Select works: Click the checkbox beside each work. Use the checkbox to the right to select or deselect all.</li>
                            <li>Select editing action: Click the trash can to delete all selected works or click a visibility setting to apply that setting to all selected works.</li>
                        </ol>
                    </div>
                    <div class="col-md-5 col-sm-5 col-xs-12">
                        <ul class="bulk-edit-toolbar">
                            <li class="bulk-edit-toolbar-item work-multiple-selector">
                                <label>SELECT</label>
                                <div id="custom-control-x">
                                    <div class="custom-control-x" > 
                                        <div class="dropdown-custom-menu" id="dropdown-custom-menu" (click)="toggleSelectMenu();$event.stopPropagation()">                  
                                            <span class="custom-checkbox-parent">
                                                <div class="custom-checkbox" id="custom-checkbox" (click)="swapbulkChangeAll();$event.stopPropagation();" [ngClass]="{'custom-checkbox-active':bulkChecked}"></div>
                                            </span>                   
                                            <div class="custom-control-arrow" (click)="toggleSelectMenu(); $event.stopPropagation()"></div>                            
                                        </div>
                                        <div>
                                            <ul class="dropdown-menu" role="menu" id="special-menu" [ngClass]="{'block': bulkDisplayToggle}">
                                                <li><a (click)="bulkChangeAll(true)">All selected</a></li>
                                                <li><a (click)="bulkChangeAll(false)">None selected</a></li>                                                
                                            </ul>     
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="bulk-edit-toolbar-item">
                                <label>EDIT</label>
                                <div class="bulk-edit-privacy-control">
<div [ngClass]="{'relative' : modal == false}" id="privacy-bar">
    <ul class="privacyToggle" (mouseenter)="commonSrvc.showPrivacyHelp(none +'-privacy', $event, 145)" (mouseleave)="commonSrvc.hideTooltip(none +'-privacy')">
        <li class="publicActive" [ngClass]="{publicInActive: none != 'PUBLIC'}"><a (click)="setBulkGroupPrivacy('PUBLIC', $event)"></a></li>
        <li class="limitedActive" [ngClass]="{limitedInActive: none != 'LIMITED'}"><a (click)="setBulkGroupPrivacy('LIMITED', $event)"></a></li>
        <li class="privateActive" [ngClass]="{privateInActive: none != 'PRIVATE'}"><a (click)="setBulkGroupPrivacy('PRIVATE', $event)"></a></li>
    </ul>
</div>
<div class="popover-help-container">
   <div class="popover top privacy-myorcid3" [ngClass]="commonSrvc.shownElement[none +'-privacy'] == true ? 'block' : ''">
        <div class="arrow"></div>
        <div class="popover-content">
            <strong>Who can see this? </strong>
            <ul class="privacyHelp">
                <li class="public" style="color: #009900;">everyone</li>
                <li class="limited" style="color: #ffb027;">trusted parties</li>
                <li class="private" style="color: #990000;">only me</li>
            </ul>
           <a href="https://support.orcid.org/hc/articles/360006897614" target="privacyToggle.help.more_information">More information on visibility settings</a>
        </div>                
    </div>                              
</div>
                                </div>                    
                            </li>                   
                        </ul>
                        <div class="bulk-edit-delete">
                            <div class="centered">
                                <a (click)="deleteBulkConfirm()" class="ignore toolbar-button edit-item-button" (mouseenter)="showTooltip('Bulk-Edit')" (mouseleave)="hideTooltip('Bulk-Edit')">
                                    <span class="edit-option-toolbar glyphicon glyphicon-trash"></span>
                                </a>
                                <div class="popover popover-tooltip top bulk-edit-popover" *ngIf="showElement['Bulk-Edit']">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span>DELETE</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>              
                </div>              
            </div>
        </div>
        <!--End bulk edit-->
        <!-- Bibtex export -->        
        <div *ngIf="showBibtexExport && workspaceSrvc.displayWorks" class="bibtex-box">
            <div *ngIf="canReadFiles" >
                <h4>Export BibTeX</h4><span (click)="toggleBibtexExport()" class="hide-importer">Hide BibTex exporter</span>
                <div class="row full-height-row">
                    <div class="col-md-9 col-sm-9 col-xs-8">
                        <p>
                            Export your works to a BibTeX file (note, this may cause problems for text in some languages). <a href="https://support.orcid.org/hc/articles/360006971453" target="exporting_bibtex" style="word-break\: normal;">Find out more on exporting BibTeX files</a>.
                        </p> 
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-4">
                        <span class="bibtext-options">                                        
                            <a class="bibtex-cancel" (click)="toggleBibtexExport()">Cancel</a>             
                            <span *ngIf="!(worksFromBibtex?.length > 0)" class="import-label" (click)="fetchBibtexExport()">Export</span>                   
                        </span>                   
                    </div>
                </div>
            </div>
            <div class="bottomBuffer" *ngIf="bibtexExportLoading && !bibtexExportError" >
                <span class="dotted-bar"></span>
                <ul class="inline-list">
                    <li>
Generating BibTeX. This can take a few minutes...                    </li>
                    <li>
                        &nbsp;<span><i id="" class="glyphicon glyphicon-refresh spin x1 green"></i></span>    
                    </li>
                </ul>
            </div>
    
            <div class="alert alert-block" *ngIf="bibtexExportError">
                <strong>Something went wrong while generating your BibTex file.  Please try again.</strong>
            </div>
          
        </div>   
        <!--End bibtex export-->
        <!-- Bibtex Importer Wizard -->
        <div *ngIf="showBibtexImportWizard && workspaceSrvc.displayWorks"  class="bibtex-box">
            <div *ngIf="canReadFiles" >
                <h4>Import BibTeX</h4><span (click)="openBibTextWizard()" class="hide-importer">Hide import BibTeX</span>
                <div class="row full-height-row">
                    <div class="col-md-9 col-sm-9 col-xs-8">
                        <p>
                            Import citations from BibTeX (.bib) files, including files exported from Google Scholar. More information on   <a href="https://support.orcid.org/hc/articles/360006973353" target="workspace.bibtexImporter.learnMore">importing BibTeX files</a>.
                        </p> 
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-4">
                        <span class="bibtext-options">                                        
                            <a class="bibtex-cancel" (click)="openBibTextWizard()">Cancel</a>            
                            <label for="inputBibtex" *ngIf="!(worksFromBibtex?.length > 0)" class="import-label" >Choose file</label>
                            <span *ngIf="worksFromBibtex?.length > 0" class="import-label" (click)="saveAllFromBibtex()">Save all</span>                                     
                            <input id="inputBibtex" name="textFiles" type="file" class="upload-button" accept="*" (change)="loadBibtexJs($event)" app-file-text-reader multiple/>

                        </span>                   
                    </div>
                </div>
            </div> 
            <div class="bottomBuffer text-center" *ngIf="bibtexImportLoading && !bibtexParsingError" >
                <i class="glyphicon glyphicon-refresh spin x4 green" id="spinner"></i>
            </div>          
            <div class="alert alert-block" *ngIf="bibtexParsingError">
                <strong>This file cannot be read. Please check the BibTeX formatting and try again.</strong>
            </div>
            <span class="dotted-bar" *ngIf="worksFromBibtex?.length > 0"></span>
            <!-- Bibtex Import Results List -->
            <ng-container *ngIf="!bibtexImportLoading">
                <div *ngFor="let work of worksFromBibtex; let index = index; let first = first; let last = last;" class="bottomBuffer">             
                    <div class="row full-height-row">   
                        <div class="col-md-9 col-sm-9 col-xs-7">
                            <h3 class="workspace-title" [ngClass]="work.title?.value == null ? 'bibtex-content-missing' :  ''">
                                <span *ngIf="work.title?.value != null">{{work.title.value}}</span>
                                <span *ngIf="work.title?.value == null">&lt;TITLE MISSING&gt;</span>
                                <span class="journaltitle" *ngIf="work.journalTitle?.value">{{work.journalTitle.value}}</span>
                            </h3>

                            <div class="info-detail">
                                <span *ngIf="work.publicationDate.year">{{work.publicationDate.year}}</span><span *ngIf="work.publicationDate?.month">-{{work.publicationDate.month}}</span><span *ngIf="work.publicationDate?.day">-</span><span *ngIf="work.publicationDate?.day">{{work.publicationDate.day}}</span><span *ngIf="work.publicationDate.year"> | </span>
                      
                                <span class="capitalize" *ngIf="work.workType?.value?.length > 0">{{work.workType.value}}</span>
                                <span class="bibtex-content-missing small-missing-info" *ngIf="work.workType?.value.length == 0">&lt;TYPE MISSING&gt;</span>

                            </div>
                            <div class="row" *ngIf="work?.workExternalIdentifiers[0]?.externalIdentifierId?.value">
                                <div class="col-md-12 col-sm-12 bottomBuffer">
                                    <ul class="id-details">
                                        <li class="url-work">
                                            <ul class="id-details">
                                                <li *ngFor='let extID of work.workExternalIdentifiers | orderBy:["relationship.value", "externalIdentifierType.value"]; let index = index; let first = first; let last = last;' class="url-popover">
                                                    <span *ngIf="work?.workExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0">
                                                        <ext-id-popover-ng2 [extID]="extID" [putCode]="'bibtexWork'+i" [activityType]="'work'"></ext-id-popover-ng2>
                                                    </span>
                                                </li>
                                            </ul>                                   
                                        </li>

                                        <li *ngIf="work.url?.value" class="url-popover url-work">
                                            URL: <a href="{{work.url.value | urlProtocol}}" (mouseenter)="showURLPopOver('bibtexWork'+index)" (mouseleave)="hideURLPopOver('bibtexWork'+index)" [ngClass]="{'truncate-anchor' : moreInfo[group?.groupId] == false || moreInfo[group?.groupId] == undefined}" target="work.url.value">{{work.url.value}}</a>
                                            <div class="popover-pos">                                   
                                                <div class="popover-help-container">
                                                    <div class="popover bottom" [ngClass]="{'block' : displayURLPopOver['bibtexWork'+index] == true}">
                                                        <div class="arrow"></div>
                                                        <div class="popover-content">
                                                            <a href="{{work.url.value}}" target="work.url.value">{{work.url.value}}</a>
                                                        </div>                
                                                    </div>                              
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>                          
                        <div class="col-md-3 col-sm-3 col-xs-3 bibtex-options-menu">                   
                            <ul>
                                <li><a (click)="rmWorkFromBibtex(work)" class="ignore glyphicon glyphicon-trash bibtex-button" title="Ignore"></a></li>
                                <li><a *ngIf="work?.errors?.length == 0" (click)="addWorkFromBibtex(work)" class="save glyphicon glyphicon-floppy-disk bibtex-button" title="Save"></a></li>
                                <li><a *ngIf="work?.errors?.length > 0" (click)="editWorkFromBibtex(work)" class="save glyphicon glyphicon-pencil bibtex-button" title="Edit"></a></li>
                                <li><span *ngIf="work?.errors?.length > 0"><a (click)="editWorkFromBibtex(work)"><i class="glyphicon glyphicon-exclamation-sign"></i>Needs edit</a></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
        <!--End bibtex import wizard-->
        <!--Works list-->
        <div *ngIf="workspaceSrvc.displayWorks" class="workspace-accordion-content">
            <ul *ngIf="worksService?.groups?.length" class="workspace-publications bottom-margin-medium" id="body-work-list">
                <li class="bottom-margin-small workspace-border-box card" *ngFor="let group of worksService.groups">
<div class="work-list-container">
    <ul class="sources-edit-list">
        <!--Edit sources-->
        <li *ngIf="editSources[group.groupId]" class="source-header" [ngClass]="{'source-active' : editSources[group.groupId] == true}">
            <div class="sources-header">
                <div class="row">
                    <div class="col-md-7 col-sm-7 col-xs-6">
                        Sources <span class="hide-sources" (click)="hideSources(group)">Close sources</span>
                    </div>
                    
                    <div class="col-md-2 col-sm-2 hidden-xs">
Preferred                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-6 right padding-left-fix">
                        <div class="workspace-toolbar">
                            <ul class="workspace-private-toolbar">
                                <li class="works-details">
                                    <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.groupId+'-showHideDetails')" (mouseleave)="hideTooltip(group?.groupId+'-showHideDetails')">
                                        <span [ngClass]="(moreInfo[group?.groupId] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                        </span>
                                    </a>
                                    <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group.groupId+'-showHideDetails']">
                                        <div class="arrow"></div>
                                        <div class="popover-content">   
                                            <span *ngIf="moreInfo[group.groupId] == false || moreInfo[group.groupId] == null">Show Details</span>   
                                            <span *ngIf="moreInfo[group.groupId]">Hide Details</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <!--End edit sources-->
        <!---Work info-->
        <ng-container *ngFor="let work of group.works; let index = index; let first = first; let last = last;">
            <li *ngIf="group.activePutCode == work.putCode.value || editSources[group.groupId] == true">
                <div class="row" *ngIf="group.activePutCode == work.putCode?.value">
                    <div class="col-md-9 col-sm-9 col-xs-7">
                        <h3 class="workspace-title leftBuffer">
                            <span>{{work.title.value}}</span>
                            <span class="journaltitle" *ngIf="work.journalTitle?.value">{{work.journalTitle.value}}</span>                                
                        </h3>                                                        
                        <div class="info-detail">
                            <span *ngIf="work.publicationDate?.year">{{work.publicationDate.year}}</span><span *ngIf="work.publicationDate?.month">-{{work.publicationDate.month}}</span><span *ngIf="work.publicationDate?.day">-</span><span *ngIf="work.publicationDate?.day">{{work.publicationDate.day}}</span><span *ngIf="work.publicationDate?.year"> | </span> <span class="capitalize">{{work.workType.value}}</span>
                        </div>
                    </div>


                    <div class="col-md-3 col-sm-3 col-xs-5 workspace-toolbar">
                        <ul class="workspace-private-toolbar" *ngIf="!editSources[group.groupId]"> 

                            <!--Bulk edit checkbox-->             
                            <!--Show details toggle-->
                            <li class="works-details" *ngIf="!editSources[group.groupId]">
                                <a (click)="showDetailsMouseClick(group,$event)" (mouseenter)="showTooltip(group?.groupId+'-showHideDetails')" (mouseleave)="hideTooltip(group?.groupId+'-showHideDetails')">
                                    <span [ngClass]="(moreInfo[group?.groupId] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'">
                                    </span>
                                </a>
                                <div class="popover popover-tooltip top show-hide-details-popover" *ngIf="showElement[group.groupId+'-showHideDetails']">
                                    <div class="arrow"></div>
                                    <div class="popover-content">
                                        <span *ngIf="moreInfo[group.groupId] == false || moreInfo[group.groupId] == null">Show Details</span>   
                                        <span *ngIf="moreInfo[group.groupId]">Hide Details</span>
                                    </div>
                                </div>
                            </li>
                            <!--Visibility selector-->
                        </ul>
                        <!--Inconsistent visibility warning-->  
                    </div>
                </div>
                <!--Identifiers-->
                <div class="row" *ngIf="group.activePutCode == work.putCode.value">
                    <div class="col-md-12 col-sm-12 bottomBuffer">
                        <ul class="id-details clearfix">
                            <li class="url-work clearfix">
                                <ul class="id-details clearfix">
                                    <li *ngFor='let extID of work?.workExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:["relationship.value", "type.value"]' class="url-popover">
                                        <span *ngIf="work?.workExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0">
                                            <ext-id-popover-ng2 [extID]="extID" [putCode]="work.putCode.value+i" [activityType]="'work'"></ext-id-popover-ng2>
                                        </span>
                                     </li>
                                </ul>                                   
                            </li>
                            <li *ngIf="work.url?.value" class="url-popover url-work">
                                URL: <a href="{{work.url.value | urlProtocol}}" (mouseenter)="showURLPopOver(work.putCode.value)" (mouseleave)="hideURLPopOver(work.putCode.value)" [ngClass]="{'truncate-anchor' : moreInfo[group.groupId] == false || moreInfo[group.groupId] == undefined}" target="work.url.value">{{work.url.value}}</a>
                                <div class="popover-pos">          
                                    <div class="popover-help-container">
                                        <div class="popover bottom" [ngClass]="{'block' : displayURLPopOver[work.putCode.value] == true}">
                                            <div class="arrow"></div>
                                            <div class="popover-content">
                                                <a href="{{work.url.value}}" target="work.url.value">{{work.url.value}}</a>
                                            </div>                
                                        </div>                              
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="more-info" *ngIf="moreInfo[group?.groupId] && group.activePutCode == work.putCode.value">
                    <div id="ajax-loader" *ngIf="worksService.details[work.putCode.value] == undefined">
                        <span id="ajax-loader"><i id="ajax-loader" class="glyphicon glyphicon-refresh spin x4 green"></i></span>
                    </div>
                    
                    <div class="content" *ngIf="worksService.details[work.putCode.value] != undefined">  
                        
                        <span class="dotted-bar"></span>
                        <div class="row">       
                            <div class="col-md-6" *ngIf="worksService.details[work.putCode.value].translatedTitle?.content" >
                                <div class="bottomBuffer">
                                    <strong>Translated title</strong> <span><i>({{worksService.details[work.putCode.value].translatedTitle.languageName}})</i></span>
                                    <div>{{worksService.details[work.putCode.value].translatedTitle.content}}</div>                
                                </div>
                            </div>
                            <div class="col-md-6" *ngIf="worksService.details[work.putCode.value].languageCode?.value" >
                                <div class="bottomBuffer">                  
                                    <strong>Language</strong>
                                    <div>{{worksService.details[work.putCode.value].languageName.value}}</div>                  
                                </div>
                            </div>
                            <div class="col-md-6" *ngIf="worksService.details[work.putCode.value].subtitle?.value" >
                                <div class="bottomBuffer">
                                    <strong> Subtitle </strong>
                                    <div>{{worksService.details[work.putCode.value].subtitle.value}}</div>
                                </div>
                            </div>
                            
                            <div class="col-md-6" *ngIf="worksService.details[work.putCode.value].url?.value" >

                                <div class="bottomBuffer">
                                    <strong>
URL                                    </strong>
                                    <div>
                                        <a href="{{worksService.details[work.putCode.value].url.value | urlProtocol}}" target="url.value">{{worksService.details[work.putCode.value].url.value}}</a>
                                    </div>              
                                </div>
                            </div>          
                        </div>                  
                        <div class="row bottomBuffer" *ngIf="worksService.details[work.putCode.value].citation?.citation?.value" >
                            <div class="col-md-12">             
                                <strong>Citation</strong> <span> (<span *ngIf="worksService.details[work.putCode.value].citation?.citationType?.value" ><i>{{worksService.details[work.putCode.value].citation.citationType.value}}</i></span>) 
                                </span>
                                <span *ngIf="showBibtex[work.putCode.value] && worksService.details[work.putCode.value].citation?.citationType?.value == 'bibtex'">
                                    <a class="toggle-tag-option" (click)="bibtexShowToggle(work.putCode.value)">
                                        [Switch view]
                                    </a>
                                </span>
                                <span *ngIf="(showBibtex[work.putCode.value] == null || showBibtex[work.putCode.value] == false) && worksService.details[work.putCode.value].citation?.citationType?.value == 'bibtex'">
                                    <a class="toggle-tag-option" (click)="bibtexShowToggle(work.putCode.value)">
                                        [Switch view]
                                    </a>
                                </span>
                                
                            </div>
                            <div class="col-md-12">
                            
                                <div *ngIf="worksService.details[work.putCode.value].citation?.citationType?.value != 'bibtex'">
                                    <span>
                                        {{worksService.details[work.putCode.value].citation.citation.value}}
                                    </span>
                                </div>
                                
                                <div *ngIf="(showBibtex[work.putCode.value] == null || showBibtex[work.putCode.value] == false) && worksService.details[work.putCode.value].citation?.citationType?.value == 'bibtex'" 
                                     class="col-md-offset-1 col-md-11 col-sm-offset-1 col-sm-11 col-xs-12 citation-raw">{{worksService.details[work.putCode.value].citation.citation.value}}
                                </div>
                                                    
                                <div class="row" *ngIf="showBibtex[work.putCode.value] && (worksService.bibtexJson[work.putCode.value]==null || worksService.bibtexJson[work.putCode.value].length==0)">
                                    <div class="col-md-offset-1 col-md-6">View not available</div>
                                </div>
                                
                                
                                <div class="row" *ngFor='let bibJSON of worksService.bibtexJson[work.putCode.value]; let index = index; let first = first; let last = last;'>    
                                    <div *ngIf="showBibtex[work.putCode.value]">
                                        <div class="col-md-offset-1 col-md-2 col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-4">{{bibJSON.entryType}}</div>
                                        <div class="col-md-8 col-sm-9 col-xs-offset-1 col-xs-6">{{bibJSON.citationKey}}</div>                               
                                        <div *ngFor="let bibEntry of bibJSON.entryTags">
                                            <div *ngFor="let tag of bibEntry | keys">
                                            <div class="col-md-offset-1 col-md-2 col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-4">{{tag.key}}</div>
                                            <div class="col-md-8 col-sm-9 col-xs-offset-1 col-xs-6">{{tag.value | latex}}</div>
                                            </div>
                                        </div>   
                                    </div>                 
                                </div>                      
                            </div>
                        </div>
                        <div class="row bottomBuffer" *ngIf="worksService.details[work.putCode.value].shortDescription?.value"
                            >
                            <div class="col-md-12">
                                <strong> Description </strong>
                                <div style="white-space: pre-wrap;">{{worksService.details[work.putCode.value].shortDescription.value}}</div>
                            </div>
                        </div>
                        
                        <div class="row bottomBuffer">
                            <div class="col-md-6" *ngIf="worksService.details[work.putCode.value].countryCode?.value" >

                                <div class="bottomBuffer">
                                    <strong>Country of publication</strong>
                                    <div>{{worksService.details[work.putCode.value].countryName.value}}</div>
                                </div>
                            </div>          
                            <div class="col-md-6" *ngIf="worksService.details[work.putCode.value].contributors?.length > 0" >
                                <div class="bottomBuffer">          
                                    <strong> Contributor </strong>
                                    <div *ngFor="let contributor of worksService.details[work.putCode.value].contributors; let index = index; let first = first; let last = last;">
                                        {{contributor.creditName?.value}} <span>{{contributor | contributorFilter}}</span>
                                    </div>
                                </div>                                      
                            </div>
                            <div class="col-md-6">
                                <div class="bottomBuffer">
                                    <strong>Created</strong><br />
                                    <div>{{worksService.details[work.putCode.value].createdDate | ajaxFormDateToISO8601}}</div>
                                </div>      
                            </div>    
                        </div>
                        
                    </div>  
                </div>

                <div class="row source-line" *ngIf="group.activePutCode == work.putCode.value">
                    <!--Edit sources-->
                    <div class="col-md-7 col-sm-7 col-xs-12" *ngIf="editSources[group.groupId]">
                        {{(work.sourceName == null || work.sourceName == '') ? work.source : work.sourceName }}
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-10" *ngIf="editSources[group.groupId]">
                        <div *ngIf="editSources[group.groupId]">
                            <span class="glyphicon glyphicon-check" *ngIf="work.putCode.value == group.defaultPutCode"></span><span *ngIf="work.putCode.value == group.defaultPutCode"> Preferred source</span>
                            
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-2 trash-source" *ngIf="editSources[group.groupId]">
                        <div *ngIf="editSources[group.groupId]">
                        </div>
                    </div>
                    <!--Edit sources-->
                </div>
                <div *ngIf="group.activePutCode != work.putCode.value" class="row source-line">
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        <a (click)="group.activePutCode = work.putCode.value">                                
                            {{(work.sourceName == null || work.sourceName == '') ? work.source : work.sourceName }}
                        </a>
                    </div>                                        
                    <div class="col-md-3 col-sm-3 col-xs-10">
                    </div>
                    <!--Action buttons-->
                    <div class="col-md-2 col-sm-2 col-xs-2 trash-source">
                    </div>
                </div> 
                <div class="row source-line" *ngIf="!editSources[group.groupId]">                        
                    <div class="col-md-7 col-sm-7 col-xs-12">
                        Source: {{(work.sourceName == null || work.sourceName == '') ? work.source : work.sourceName }}
                    </div>
                    
                    <div class="col-md-3 col-sm-3 col-xs-9">
                        <span class="glyphicon glyphicon-check"></span><span> Preferred source</span> <span *ngIf="group?.works?.length != 1"> (</span><a (click)="showSources(group, $event)" *ngIf="group?.works?.length != 1" (mouseenter)="showTooltip(group.groupId+'-sources')" (mouseleave)="hideTooltip(group.groupId+'-sources')">of {{group.works.length}}</a><span *ngIf="group?.works?.length != 1">)</span>

                        <div class="popover popover-tooltip top sources-popover" *ngIf="showElement[group.groupId+'-sources']">
                            <div class="arrow"></div>
                            <div class="popover-content">
Show other sources                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-sm-2 col-xs-3" *ngIf="group.activePutCode == work.putCode.value">
                        <ul class="sources-options" >
                        </ul>
                    </div>
                </div>
            </li>
        </ng-container>
    </ul>
</div>                </li>
            </ul>
            <button *ngIf="worksService.showLoadMore" (click)="loadMore()" class="btn btn-primary">Load more</button>
            <div *ngIf="worksService?.loading" class="text-center" id="workSpinner">
                <i class="glyphicon glyphicon-refresh spin x4 green" id="spinner"></i>
            </div>
            <div *ngIf="worksService?.loading == false && worksService?.groups?.length == 0">
                <strong>
                    No publications added yet                </strong>
            </div>          
        </div>
    </div>
</script> <works-ng2 publicView="true"></works-ng2>

<div id="public-last-modified">
<p class="small italic">Record last modified Apr 13, 2018 7:34:40 PM</p>
</div>
</div>
</div>
</div>
</div>

<script type="text/ng-template" id="org-identifier-popover-ng2-template">
<span *ngIf="!link" class="url-popover">
    {{displayType}}: {{value}}
</span>
<span *ngIf="link" class="url-popover">
    {{displayType}}: <a href="{{link}}" class="truncate-anchor" target="orcid.blank" rel="noopener norefferer" (mouseenter)="showURLPopOver(putCode)" (mouseleave)="hideURLPopOver(putCode)">{{value}}</a>
    <div class="popover-pos">
        <div class="popover-help-container">
            <div class="popover bottom" [ngClass]="{'block' : displayURLPopOver[putCode] == true}">
                <div class="arrow"></div>
                <div class="popover-content">
                    <a href="{{link}}" target="orcid.blank" class="ng-binding">{{link}}</a>
                </div>
            </div>
        </div>
  </div>
</span>
<div *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]" class="col-md-11 bottomBuffer info-detail leftBuffer clearfix">
    <!--Org disambiguated name-->
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.value">{{commonSrvc.orgDisambiguatedDetails[type+value]?.value}}</span>

    <!--Org disambiguated city-->
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.city || commonSrvc.orgDisambiguatedDetails[type+value]?.region || commonSrvc.orgDisambiguatedDetails[type+value]?.country">: </span>

    
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.city">{{commonSrvc.orgDisambiguatedDetails[type+value]?.city}}</span>

    <!--Org disambiguated region-->
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.city && commonSrvc.orgDisambiguatedDetails[type+value]?.region">, </span>

    
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.region">{{commonSrvc.orgDisambiguatedDetails[type+value]?.region}}</span>

    <!--Org disambiguated country-->
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.country && (commonSrvc.orgDisambiguatedDetails[type+value]?.city || commonSrvc.orgDisambiguatedDetails[type+value]?.region)">, </span>
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.country">{{commonSrvc.orgDisambiguatedDetails[type+value]?.country}}</span>

    <!--Org disambiguated URL-->
    <span *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.url"><br>
        <a href="{{commonSrvc.orgDisambiguatedDetails[type+value]?.url}}" target="url">
        <span>{{commonSrvc.orgDisambiguatedDetails[type+value]?.url}}</span></a>
    </span> 

    <!--Org disambiguated ext ids-->
    <div *ngIf="commonSrvc.orgDisambiguatedDetails[type+value]?.orgDisambiguatedExternalIdentifiers">
        <strong>Other organization identifiers provided by {{displayType}}</strong><br>
        <ul class="reset">
            <li *ngFor="let orgDisambiguatedExternalIdentifier of commonSrvc.orgDisambiguatedDetails[type+value]?.orgDisambiguatedExternalIdentifiers">
                {{orgDisambiguatedExternalIdentifier.identifierType}}: <span *ngIf="orgDisambiguatedExternalIdentifier.preferred">{{orgDisambiguatedExternalIdentifier.preferred}} (preferred)</span> 
                <!-- Put the ',' only if there is more than one ext id or if the only one is not the same as the preferred one -->
                <span *ngIf="orgDisambiguatedExternalIdentifier.all && (orgDisambiguatedExternalIdentifier.all.length > 1 || (orgDisambiguatedExternalIdentifier.preferred && (orgDisambiguatedExternalIdentifier.all[0] != orgDisambiguatedExternalIdentifier.preferred)))">,</span>   
                <span *ngIf="orgDisambiguatedExternalIdentifier.all">
                    <span *ngFor="let orgDisambiguatedExternalIdentifierAll of orgDisambiguatedExternalIdentifier.all;let last = last">
                        <span *ngIf="orgDisambiguatedExternalIdentifierAll != orgDisambiguatedExternalIdentifier.preferred">{{orgDisambiguatedExternalIdentifierAll}}{{last ? '' : ', '}}</span>                                        
                    </span>
                </span>
            </li>
        </ul>
    </div>  
</div>             
</script>
</div>
</div>

<div id="footer" class="footer clear-fix">
<span id="noop"> </span>
<div class="container">
<div class="row">
<div class="col-md-11 col-md-offset-1">
<ul class="col-md-11 col-md-offset-1">
<li class=""><a href="https://orcid.org/help/contact-us">Contact us</a></li>
<li class=""><a href="https://orcid.org/footer/privacy-policy">Privacy Policy</a></li>
<li class=""><a href="https://orcid.org/content/orcid-terms-use">Terms of Use</a></li>
<li class=""><a href="https://orcid.org/open-source-license">Open Source Project</a></li>
</ul>
</div>
</div>
</div>
</div>
<form action="/">
<input id="imageUrl" type="hidden" value="//orcid.org/static/release-1.246.11/images">
</form>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/jquery/2.2.3/jquery.min.js"></script>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/jqueryui/1.10.0/jquery-ui.min.js"></script>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/jquery-migrate/1.3.0/jquery-migrate-1.3.0.min.js"></script>
<script type="text/javascript">
    // CSRF
    var token = $("meta[name='_csrf']").attr("content");
    var header = $("meta[name='_csrf_header']").attr("content");    
    if (header && token){
	    $(document).ajaxSend(function(e, xhr, options) {
	        if (options.type != "GET") {
	           if (   options.url.startsWith(orcidVar.baseUri)
	               || options.url.startsWith(orcidVar.baseUriHttp)
	               || options.url.startsWith('/')) {
	               xhr.setRequestHeader(header, token);
	           };
	        };
	    });
    }
</script>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/typeahead/0.9.3/typeahead.min.js"></script>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/plugins.js"></script>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/orcid.js"></script>
<script type="text/javascript" src="//orcid.org/static/release-1.246.11/javascript/script.js"></script>
<script src="//orcid.org/static/release-1.246.11/javascript/ng1Orcid/angular_orcid_generated.js"></script>
<script type="text/javascript">
    var lang = OrcidCookie.getCookie('locale_v3');
</script>
<script type="text/javascript">
        var lang = OrcidCookie.getCookie('locale_v3');
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "https://www.google.com/recaptcha/api.js?onload=vcRecaptchaApiLoaded&render=explicit&hl=" + lang;
        document.body.appendChild(script);
    </script>



<script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=b8313acd-6439-4894-b431-8c5a2ae9e7cb"> </script>
</body>
</html>
